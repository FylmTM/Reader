<feed xmlns="http://www.w3.org/2005/Atom"><title>The Go Programming Language Blog</title><id>tag:blog.golang.org,2013:blog.golang.org</id><link rel="self" href="https://blog.golang.org/feed.atom"></link><updated>2019-11-20T11:00:00+00:00</updated><entry><title>Announcing the 2019 Go Developer Survey</title><id>tag:blog.golang.org,2013:blog.golang.org/survey2019</id><link rel="alternate" href="https://blog.golang.org/survey2019"></link><published>2019-11-20T11:00:00+00:00</published><updated>2019-11-20T11:00:00+00:00</updated><author><name>Todd Kulesza</name></author><summary type="html">Since 2016, thousands of Gophers around the world have helped the Go project by sharing your thoughts via our annual Go Developer Survey. Your feedback has played an enormous role in driving changes to our language, ecosystem, and community, including &lt;a href=&#34;https://about.sourcegraph.com/go/gophercon-2019-go-pls-stop-breaking-my-editor&#34; target=&#34;_blank&#34;&gt;the gopls language server&lt;/a&gt;, new &lt;a href=&#34;https://blog.golang.org/go1.13-errors&#34; target=&#34;_blank&#34;&gt;error-handling mechanics&lt;/a&gt;, the &lt;a href=&#34;https://blog.golang.org/module-mirror-launch&#34; target=&#34;_blank&#34;&gt;module mirror&lt;/a&gt;, and so much more from the latest &lt;a href=&#34;https://blog.golang.org/go1.13&#34; target=&#34;_blank&#34;&gt;Go 1.13 release&lt;/a&gt;. And of course, we publicly share &lt;a href=&#34;https://blog.golang.org/survey2016-results&#34; target=&#34;_blank&#34;&gt;each&lt;/a&gt; &lt;a href=&#34;https://blog.golang.org/survey2017-results&#34; target=&#34;_blank&#34;&gt;year&amp;#39;s&lt;/a&gt; &lt;a href=&#34;https://blog.golang.org/survey2018-results&#34; target=&#34;_blank&#34;&gt;results&lt;/a&gt;, so we can all benefit from the community&amp;#39;s insights.&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_1.&#34;&gt;Help shape the future of Go&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Since 2016, thousands of Gophers around the world have helped the Go project by sharing your thoughts via our annual Go Developer Survey. Your feedback has played an enormous role in driving changes to our language, ecosystem, and community, including &lt;a href=&#34;https://about.sourcegraph.com/go/gophercon-2019-go-pls-stop-breaking-my-editor&#34; target=&#34;_blank&#34;&gt;the gopls language server&lt;/a&gt;, new &lt;a href=&#34;https://blog.golang.org/go1.13-errors&#34; target=&#34;_blank&#34;&gt;error-handling mechanics&lt;/a&gt;, the &lt;a href=&#34;https://blog.golang.org/module-mirror-launch&#34; target=&#34;_blank&#34;&gt;module mirror&lt;/a&gt;, and so much more from the latest &lt;a href=&#34;https://blog.golang.org/go1.13&#34; target=&#34;_blank&#34;&gt;Go 1.13 release&lt;/a&gt;. And of course, we publicly share &lt;a href=&#34;https://blog.golang.org/survey2016-results&#34; target=&#34;_blank&#34;&gt;each&lt;/a&gt; &lt;a href=&#34;https://blog.golang.org/survey2017-results&#34; target=&#34;_blank&#34;&gt;year&amp;#39;s&lt;/a&gt; &lt;a href=&#34;https://blog.golang.org/survey2018-results&#34; target=&#34;_blank&#34;&gt;results&lt;/a&gt;, so we can all benefit from the community&amp;#39;s insights.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Today we are launching the 2019 Go Developer Survey. We&amp;#39;d love to hear from everyone who uses Go, used to use Go, or is interested in using Go, to help ensure the language, community, and ecosystem fit the needs of the people closest to it. Please help us shape Go&amp;#39;s future by participating in this 15-minute survey by December 15th: &lt;a href=&#34;https://google.qualtrics.com/jfe/form/SV_b1xqnBCMpZAhJZ3&#34; target=&#34;_blank&#34;&gt;Take the 2019 Go Developer Survey&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_2.&#34;&gt;Spread the word!&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    We need as many Gophers as possible to participate in this survey to help us better understand our global user base. We&amp;#39;d be grateful if you would spread the word by sharing this post on your social network feeds, around the office, at meet-ups, and in other communities. Thank you!&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;  &#xA;</content></entry><entry><title>Go.dev: a new hub for Go developers</title><id>tag:blog.golang.org,2013:blog.golang.org/go.dev</id><link rel="alternate" href="https://blog.golang.org/go.dev"></link><published>2019-11-13T11:00:00+00:00</published><updated>2019-11-13T11:00:00+00:00</updated><author><name>Steve Francia and Julie Qiu</name></author><summary type="html">Over the last two years,&#xA;as we’ve spoken with users at companies of all sizes,&#xA;we’ve heard three questions repeatedly:&#xA;who else is using Go,&#xA;what do they use it for,&#xA;and how can I find useful Go packages?&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Over the last two years,&#xA;&#xA;&#xA;    as we’ve spoken with users at companies of all sizes,&#xA;&#xA;&#xA;    we’ve heard three questions repeatedly:&#xA;&#xA;&#xA;    who else is using Go,&#xA;&#xA;&#xA;    what do they use it for,&#xA;&#xA;&#xA;    and how can I find useful Go packages?&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Today we are launching &lt;a href=&#34;https://go.dev&#34; target=&#34;_blank&#34;&gt;go.dev&lt;/a&gt;, a new hub for Go developers,&#xA;&#xA;&#xA;    to help answer those questions.&#xA;&#xA;&#xA;    There you will find a wealth of learning resources to get started with the language,&#xA;&#xA;&#xA;    featured use cases, and case studies of companies using Go.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;go.dev/home.png&#34; width=&#34;850&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    (Note that &lt;a href=&#34;https://golang.org/&#34; target=&#34;_blank&#34;&gt;golang.org&lt;/a&gt; is still the home for the&#xA;&#xA;&#xA;    open source Go project and the Go distribution.&#xA;&#xA;&#xA;    Go.dev is a companion site to provide these supporting resources.)&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Clicking on Explore brings you to &lt;a href=&#34;https://pkg.go.dev/&#34; target=&#34;_blank&#34;&gt;pkg.go.dev&lt;/a&gt;,&#xA;&#xA;&#xA;    a central source of information about Go packages and modules.&#xA;&#xA;&#xA;    Like &lt;a href=&#34;https://godoc.org/&#34; target=&#34;_blank&#34;&gt;godoc.org&lt;/a&gt;, pkg.go.dev serves Go documentation.&#xA;&#xA;&#xA;    However, it also understands modules and has information&#xA;&#xA;&#xA;    about all versions of a package, including&#xA;&#xA;&#xA;    &lt;a href=&#34;https://pkg.go.dev/std?tab=versions&#34; target=&#34;_blank&#34;&gt;all releases of the standard library&lt;/a&gt;!&#xA;&#xA;&#xA;    And it detects and displays licenses and has a better search algorithm.&#xA;&#xA;&#xA;    You can follow&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/issue/33654&#34; target=&#34;_blank&#34;&gt;Go issue 33654&lt;/a&gt; for future developments.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;go.dev/http.png&#34; width=&#34;850&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Today’s launch is our minimum viable product for go.dev,&#xA;&#xA;&#xA;    so we can share what we’ve built to help the community and get feedback.&#xA;&#xA;&#xA;    We intend to expand the site over time.&#xA;&#xA;&#xA;    If you have any ideas, suggestions or issues,&#xA;&#xA;&#xA;    please let us know via the “Share Feedback” and “Report an Issue” links at the bottom of every page.&#xA;&#xA;&#xA;    Or you can send your bugs, ideas, feature requests, and questions to&#xA;&#xA;&#xA;    &lt;a href=&#34;mailto:go-discovery-feedback@google.com&#34; target=&#34;_blank&#34;&gt;go-discovery-feedback@google.com&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;    &#xA;  &#xA;</content></entry><entry><title>Go Turns 10</title><id>tag:blog.golang.org,2013:blog.golang.org/10years</id><link rel="alternate" href="https://blog.golang.org/10years"></link><published>2019-11-08T11:00:00+00:00</published><updated>2019-11-08T11:00:00+00:00</updated><author><name>Russ Cox, for the Go team</name></author><summary type="html">Happy birthday, Go!&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Happy birthday, Go!&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    This weekend we celebrate the 10th anniversary of&#xA;&#xA;&#xA;    &lt;a href=&#34;https://opensource.googleblog.com/2009/11/hey-ho-lets-go.html&#34; target=&#34;_blank&#34;&gt;the Go release&lt;/a&gt;,&#xA;&#xA;&#xA;    marking the 10th birthday of Go as an open-source programming language&#xA;&#xA;&#xA;    and ecosystem for building modern networked software.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    To mark the occasion,&#xA;&#xA;&#xA;    &lt;a href=&#34;https://twitter.com/reneefrench&#34; target=&#34;_blank&#34;&gt;Renee French&lt;/a&gt;,&#xA;&#xA;&#xA;    the creator of the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://blog.golang.org/gopher&#34; target=&#34;_blank&#34;&gt;Go gopher&lt;/a&gt;,&#xA;&#xA;&#xA;    painted this delightful scene:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &lt;a href=&#34;10years/gopher10th-large.jpg&#34;&gt;&#xA;&#xA;      &#xA;        &#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;10years/gopher10th-small.jpg&#34; width=&#34;850&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;      &#xA;        &lt;/a&gt;&#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Celebrating 10 years of Go makes me think back to early November 2009,&#xA;&#xA;&#xA;    when we were getting ready to share Go with the world.&#xA;&#xA;&#xA;    We didn’t know what kind of reaction to expect,&#xA;&#xA;&#xA;    whether anyone would care about this little language.&#xA;&#xA;&#xA;    I hoped that even if no one ended up using Go,&#xA;&#xA;&#xA;    we would at least have drawn attention to some good ideas,&#xA;&#xA;&#xA;    especially Go’s approach to concurrency and interfaces,&#xA;&#xA;&#xA;    that could influence follow-on languages.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Once it became clear that people were excited about Go,&#xA;&#xA;&#xA;    I looked at the history of popular languages&#xA;&#xA;&#xA;    like C, C++, Perl, Python, and Ruby,&#xA;&#xA;&#xA;    examining how long each took to gain widespread adoption.&#xA;&#xA;&#xA;    For example, Perl seemed to me to have appeared fully-formed&#xA;&#xA;&#xA;    in the mid-to-late 1990s, with CGI scripts and the web,&#xA;&#xA;&#xA;    but it was first released in 1987.&#xA;&#xA;&#xA;    This pattern repeated for almost every language I looked at:&#xA;&#xA;&#xA;    it seems to take roughly a decade of quiet, steady improvement&#xA;&#xA;&#xA;    and dissemination before a new language really takes off.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    I wondered: where would Go be after a decade?&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Today, we can answer that question:&#xA;&#xA;&#xA;    Go is everywhere, used by at least &lt;a href=&#34;https://research.swtch.com/gophercount&#34; target=&#34;_blank&#34;&gt;a million developers worldwide&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Go’s original target was networked system infrastructure,&#xA;&#xA;&#xA;    what we now call cloud software.&#xA;&#xA;&#xA;    Every major cloud provider today uses core cloud infrastructure written in Go,&#xA;&#xA;&#xA;    such as Docker, Etcd, Istio, Kubernetes, Prometheus, and Terraform;&#xA;&#xA;&#xA;    the majority of the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://www.cncf.io/projects/&#34; target=&#34;_blank&#34;&gt;Cloud Native Computing Foundation’s projects&lt;/a&gt;&#xA;&#xA;&#xA;    are written in Go.&#xA;&#xA;&#xA;    Countless companies are using Go to move their own work to the cloud as well,&#xA;&#xA;&#xA;    from startups building from scratch&#xA;&#xA;&#xA;    to enterprises modernizing their software stack.&#xA;&#xA;&#xA;    Go has also found adoption well beyond its original cloud target,&#xA;&#xA;&#xA;    with uses ranging&#xA;&#xA;&#xA;    from&#xA;&#xA;&#xA;    controlling tiny embedded systems with&#xA;&#xA;&#xA;    &lt;a href=&#34;https://gobot.io&#34; target=&#34;_blank&#34;&gt;GoBot&lt;/a&gt; and &lt;a href=&#34;https://tinygo.org/&#34; target=&#34;_blank&#34;&gt;TinyGo&lt;/a&gt;&#xA;&#xA;&#xA;    to detecting cancer with&#xA;&#xA;&#xA;    &lt;a href=&#34;https://medium.com/grail-eng/bigslice-a-cluster-computing-system-for-go-7e03acd2419b&#34; target=&#34;_blank&#34;&gt;massive big data analysis and machine learning at GRAIL&lt;/a&gt;,&#xA;&#xA;&#xA;    and everything in between.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    All this is to say that Go has succeeded beyond our wildest dreams.&#xA;&#xA;&#xA;    And Go’s success isn’t just about the language.&#xA;&#xA;&#xA;    It’s about the language, the ecosystem, and especially the community working together.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    In 2009, the language was a good idea with a working sketch of an implementation.&#xA;&#xA;&#xA;    The &lt;code&gt;go&lt;/code&gt; command did not exist:&#xA;&#xA;&#xA;    we ran commands like &lt;code&gt;6g&lt;/code&gt; to compile and &lt;code&gt;6l&lt;/code&gt; to link binaries,&#xA;&#xA;&#xA;    automated with makefiles.&#xA;&#xA;&#xA;    We typed semicolons at the ends of statements.&#xA;&#xA;&#xA;    The entire program stopped during garbage collection,&#xA;&#xA;&#xA;    which then struggled to make good use of two cores.&#xA;&#xA;&#xA;    Go ran only on Linux and Mac, on 32- and 64-bit x86 and 32-bit ARM.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Over the last decade, with the help of Go developers all over the world,&#xA;&#xA;&#xA;    we have evolved this idea and sketch into a productive language&#xA;&#xA;&#xA;    with fantastic tooling,&#xA;&#xA;&#xA;    a production-quality implementation,&#xA;&#xA;&#xA;    a&#xA;&#xA;&#xA;    &lt;a href=&#34;https://blog.golang.org/ismmkeynote&#34; target=&#34;_blank&#34;&gt;state-of-the-art garbage collector&lt;/a&gt;,&#xA;&#xA;&#xA;    and &lt;a href=&#34;https://golang.org/doc/install/source#introduction&#34; target=&#34;_blank&#34;&gt;ports to 12 operating systems and 10 architectures&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Any programming language needs the support of a thriving ecosystem.&#xA;&#xA;&#xA;    The open source release was the seed for that ecosystem,&#xA;&#xA;&#xA;    but since then, many people have contributed their time and talent&#xA;&#xA;&#xA;    to fill the Go ecosystem with great tutorials, books, courses, blog posts,&#xA;&#xA;&#xA;    podcasts, tools, integrations, and of course reusable Go packages importable with &lt;code&gt;go&lt;/code&gt; &lt;code&gt;get&lt;/code&gt;.&#xA;&#xA;&#xA;    Go could never have succeeded without the support of this ecosystem.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Of course, the ecosystem needs the support of a thriving community.&#xA;&#xA;&#xA;    In 2019 there are dozens of Go conferences all over the world,&#xA;&#xA;&#xA;    along with&#xA;&#xA;&#xA;    &lt;a href=&#34;https://www.meetup.com/pro/go&#34; target=&#34;_blank&#34;&gt;over 150 Go meetup groups with over 90,000 members&lt;/a&gt;.&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golangbridge.org&#34; target=&#34;_blank&#34;&gt;GoBridge&lt;/a&gt;&#xA;&#xA;&#xA;    and&#xA;&#xA;&#xA;    &lt;a href=&#34;https://medium.com/@carolynvs/www-loves-gobridge-ccb26309f667&#34; target=&#34;_blank&#34;&gt;Women Who Go&lt;/a&gt;&#xA;&#xA;&#xA;    help bring new voices into the Go community,&#xA;&#xA;&#xA;    through mentoring, training, and conference scholarships.&#xA;&#xA;&#xA;    This year alone, they have taught&#xA;&#xA;&#xA;    hundreds of people from traditionally underrepresented groups&#xA;&#xA;&#xA;    at workshops where community members teach and mentor those new to Go.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    There are&#xA;&#xA;&#xA;    &lt;a href=&#34;https://research.swtch.com/gophercount&#34; target=&#34;_blank&#34;&gt;over a million Go developers&lt;/a&gt;&#xA;&#xA;&#xA;    worldwide,&#xA;&#xA;&#xA;    and companies all over the globe are looking to hire more.&#xA;&#xA;&#xA;    In fact, people often tell us that learning Go&#xA;&#xA;&#xA;    helped them get their first jobs in the tech industry.&#xA;&#xA;&#xA;    In the end, what we’re most proud of about Go&#xA;&#xA;&#xA;    is not a well-designed feature or a clever bit of code&#xA;&#xA;&#xA;    but the positive impact Go has had in so many people’s lives.&#xA;&#xA;&#xA;    We aimed to create a language that would help us be better developers,&#xA;&#xA;&#xA;    and we are thrilled that Go has helped so many others.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    As&#xA;&#xA;&#xA;    &lt;a href=&#34;https://twitter.com/search?q=%23GoTurns10&#34; target=&#34;_blank&#34;&gt;#GoTurns10&lt;/a&gt;,&#xA;&#xA;&#xA;    I hope everyone will take a moment to celebrate&#xA;&#xA;&#xA;    the Go community and all we have achieved.&#xA;&#xA;&#xA;    On behalf of the entire Go team at Google,&#xA;&#xA;&#xA;    thank you to everyone who has joined us over the past decade.&#xA;&#xA;&#xA;    Let’s make the next one even more incredible!&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &lt;div&gt;&#xA;&lt;center&gt;&#xA;&lt;a href=&#34;10years/gopher10th-pin-large.jpg&#34;&gt;&#xA;&#xA;      &#xA;        &#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;10years/gopher10th-pin-small.jpg&#34; width=&#34;150&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;      &#xA;        &lt;/center&gt;&#xA;&lt;/div&gt;&#xA;&#xA;      &#xA;    &#xA;  &#xA;</content></entry><entry><title>Go Modules: v2 and Beyond</title><id>tag:blog.golang.org,2013:blog.golang.org/v2-go-modules</id><link rel="alternate" href="https://blog.golang.org/v2-go-modules"></link><published>2019-11-07T11:00:00+00:00</published><updated>2019-11-07T11:00:00+00:00</updated><author><name>Jean de Klerk and Tyler Bui-Palsulich</name></author><summary type="html">This post is part 4 in a series.&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_1.&#34;&gt;Introduction&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    This post is part 4 in a series.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;Part 1 — &lt;a href=&#34;/using-go-modules&#34; target=&#34;_self&#34;&gt;Using Go Modules&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Part 2 — &lt;a href=&#34;/migrating-to-go-modules&#34; target=&#34;_self&#34;&gt;Migrating To Go Modules&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Part 3 — &lt;a href=&#34;/publishing-go-modules&#34; target=&#34;_self&#34;&gt;Publishing Go Modules&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;b&gt;Part 4 — Go Modules: v2 and Beyond&lt;/b&gt; (this post)&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    As a successful project matures and new requirements are added, past features&#xA;&#xA;&#xA;    and design decisions might stop making sense. Developers may want to integrate&#xA;&#xA;&#xA;    lessons they&amp;#39;ve learned by removing deprecated functions, renaming types, or&#xA;&#xA;&#xA;    splitting complicated packages into manageable pieces. These kinds of changes&#xA;&#xA;&#xA;    require effort by downstream users to migrate their code to the new API, so they&#xA;&#xA;&#xA;    should not be made without careful consideration that the benefits outweigh the&#xA;&#xA;&#xA;    costs.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    For projects that are still experimental — at major version &lt;code&gt;v0&lt;/code&gt; — occasional&#xA;&#xA;&#xA;    breaking changes are expected by users. For projects which are declared stable&#xA;&#xA;&#xA;    — at major version &lt;code&gt;v1&lt;/code&gt; or higher — breaking changes must be done in a new major&#xA;&#xA;&#xA;    version. This post explores major version semantics, how to create and publish a new&#xA;&#xA;&#xA;    major version, and how to maintain multiple major versions of a module.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_2.&#34;&gt;Major versions and module paths&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Modules formalized an important principle in Go, the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://research.swtch.com/vgo-import&#34; target=&#34;_blank&#34;&gt;&lt;b&gt;import compatibility rule&lt;/b&gt;&lt;/a&gt;:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;If an old package and a new package have the same import path,&#xA;the new package must be backwards compatible with the old package.&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    By definition, a new major version of a package is not backwards compatible with&#xA;&#xA;&#xA;    the previous version. This means a new major version of a module must have a&#xA;&#xA;&#xA;    different module path than the previous version. Starting with &lt;code&gt;v2&lt;/code&gt;, the major&#xA;&#xA;&#xA;    version must appear at the end of the module path (declared in the &lt;code&gt;module&lt;/code&gt;&#xA;&#xA;&#xA;    statement in the &lt;code&gt;go.mod&lt;/code&gt; file). For example, when the authors of the module&#xA;&#xA;&#xA;    &lt;code&gt;github.com/googleapis/gax-go&lt;/code&gt; developed &lt;code&gt;v2&lt;/code&gt;, they used the new module path&#xA;&#xA;&#xA;    &lt;code&gt;github.com/googleapis/gax-go/v2&lt;/code&gt;. Users who wanted to use &lt;code&gt;v2&lt;/code&gt; had to change&#xA;&#xA;&#xA;    their package imports and module requirements to &lt;code&gt;github.com/googleapis/gax-go/v2&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The need for major version suffixes is one of the ways Go modules differs from&#xA;&#xA;&#xA;    most other dependency management systems. Suffixes are needed to solve&#xA;&#xA;&#xA;    the &lt;a href=&#34;https://research.swtch.com/vgo-import#dependency_story&#34; target=&#34;_blank&#34;&gt;diamond dependency problem&lt;/a&gt;.&#xA;&#xA;&#xA;    Before Go modules, &lt;a href=&#34;http://gopkg.in&#34; target=&#34;_blank&#34;&gt;gopkg.in&lt;/a&gt; allowed package maintainers to&#xA;&#xA;&#xA;    follow what we now refer to as the import compatibility rule. With gopkg.in, if&#xA;&#xA;&#xA;    you depend on a package that imports &lt;code&gt;gopkg.in/yaml.v1&lt;/code&gt; and another package that&#xA;&#xA;&#xA;    imports &lt;code&gt;gopkg.in/yaml.v2&lt;/code&gt;, there is no conflict because the two &lt;code&gt;yaml&lt;/code&gt; packages&#xA;&#xA;&#xA;    have different import paths — they use a version suffix, as with Go modules.&#xA;&#xA;&#xA;    Since gopkg.in shares the same version suffix methodology as Go modules, the Go&#xA;&#xA;&#xA;    command accepts the &lt;code&gt;.v2&lt;/code&gt; in &lt;code&gt;gopkg.in/yaml.v2&lt;/code&gt; as a valid major version suffix.&#xA;&#xA;&#xA;    This is a special case for compatibility with gopkg.in: modules hosted at other&#xA;&#xA;&#xA;    domains need a slash suffix like &lt;code&gt;/v2&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_3.&#34;&gt;Major version strategies&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    The recommended strategy is to develop &lt;code&gt;v2+&lt;/code&gt; modules in a directory named after&#xA;&#xA;&#xA;    the major version suffix.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;github.com/googleapis/gax-go @ master branch&#xA;/go.mod    → module github.com/googleapis/gax-go&#xA;/v2/go.mod → module github.com/googleapis/gax-go/v2&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    This approach is compatible with tools that aren&amp;#39;t aware of modules: file paths&#xA;&#xA;&#xA;    within the repository match the paths expected by &lt;code&gt;go get&lt;/code&gt; in &lt;code&gt;GOPATH&lt;/code&gt; mode.&#xA;&#xA;&#xA;    This strategy also allows all major versions to be developed together in&#xA;&#xA;&#xA;    different directories.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Other strategies may keep major versions on separate branches. However, if&#xA;&#xA;&#xA;    &lt;code&gt;v2+&lt;/code&gt; source code is on the repository&amp;#39;s default branch (usually &lt;code&gt;master&lt;/code&gt;),&#xA;&#xA;&#xA;    tools that are not version-aware — including the &lt;code&gt;go&lt;/code&gt; command in &lt;code&gt;GOPATH&lt;/code&gt; mode&#xA;&#xA;&#xA;    — may not distinguish between major versions.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The examples in this post will follow the major version subdirectory strategy,&#xA;&#xA;&#xA;    since it provides the most compatibility. We recommend that module authors&#xA;&#xA;&#xA;    follow this strategy as long as they have users developing in &lt;code&gt;GOPATH&lt;/code&gt; mode.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_4.&#34;&gt;Publishing v2 and beyond&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    This post uses &lt;code&gt;github.com/googleapis/gax-go&lt;/code&gt; as an example:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ pwd&#xA;/tmp/gax-go&#xA;$ ls&#xA;CODE_OF_CONDUCT.md  call_option.go  internal&#xA;CONTRIBUTING.md     gax.go          invoke.go&#xA;LICENSE             go.mod          tools.go&#xA;README.md           go.sum          RELEASING.md&#xA;header.go&#xA;$ cat go.mod&#xA;module github.com/googleapis/gax-go&#xA;&#xA;go 1.9&#xA;&#xA;require (&#xA;    github.com/golang/protobuf v1.3.1&#xA;    golang.org/x/exp v0.0.0-20190221220918-438050ddec5e&#xA;    golang.org/x/lint v0.0.0-20181026193005-c67002cb31c3&#xA;    golang.org/x/tools v0.0.0-20190114222345-bf090417da8b&#xA;    google.golang.org/grpc v1.19.0&#xA;    honnef.co/go/tools v0.0.0-20190102054323-c2f93a96b099&#xA;)&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    To start development on &lt;code&gt;v2&lt;/code&gt; of &lt;code&gt;github.com/googleapis/gax-go&lt;/code&gt;, we&amp;#39;ll create a&#xA;&#xA;&#xA;    new &lt;code&gt;v2/&lt;/code&gt; directory and copy our package into it.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ mkdir v2&#xA;$ cp *.go v2/&#xA;building file list ... done&#xA;call_option.go&#xA;gax.go&#xA;header.go&#xA;invoke.go&#xA;tools.go&#xA;&#xA;sent 10588 bytes  received 130 bytes  21436.00 bytes/sec&#xA;total size is 10208  speedup is 0.95&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Now, let&amp;#39;s create a v2 &lt;code&gt;go.mod&lt;/code&gt; file by copying the current &lt;code&gt;go.mod&lt;/code&gt; file and&#xA;&#xA;&#xA;    adding a &lt;code&gt;v2/&lt;/code&gt; suffix to the module path:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ cp go.mod v2/go.mod&#xA;$ go mod edit -module github.com/googleapis/gax-go/v2 v2/go.mod&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Note that the &lt;code&gt;v2&lt;/code&gt; version is treated as a separate module from the &lt;code&gt;v0 / v1&lt;/code&gt;&#xA;&#xA;&#xA;    versions: both may coexist in the same build. So, if your &lt;code&gt;v2+&lt;/code&gt; module has&#xA;&#xA;&#xA;    multiple packages, you should update them to use the new &lt;code&gt;/v2&lt;/code&gt; import path:&#xA;&#xA;&#xA;    otherwise, your &lt;code&gt;v2+&lt;/code&gt; module will depend on your &lt;code&gt;v0 / v1&lt;/code&gt; module. For example,&#xA;&#xA;&#xA;    to update all &lt;code&gt;github.com/my/project&lt;/code&gt; references to &lt;code&gt;github.com/my/project/v2&lt;/code&gt;,&#xA;&#xA;&#xA;    you can use &lt;code&gt;find&lt;/code&gt; and &lt;code&gt;sed&lt;/code&gt;:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ find . -type f \&#xA;    -name &amp;#39;*.go&amp;#39; \&#xA;    -exec sed -i -e &amp;#39;s,github.com/my/project,github.com/my/project/v2,g&amp;#39; {} \;&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Now we have a &lt;code&gt;v2&lt;/code&gt; module, but we want to experiment and make changes before&#xA;&#xA;&#xA;    publishing a release. Until we release &lt;code&gt;v2.0.0&lt;/code&gt; (or any version without a&#xA;&#xA;&#xA;    pre-release suffix), we can develop and make breaking changes as we decide on&#xA;&#xA;&#xA;    the new API. If we want users to be able to experiment with the new API before&#xA;&#xA;&#xA;    we officially make it stable, we can publish a &lt;code&gt;v2&lt;/code&gt; pre-release version:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ git tag v2.0.0-alpha.1&#xA;$ git push origin v2.0.0-alpha.1&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Once we are happy with our &lt;code&gt;v2&lt;/code&gt; API and are sure we don&amp;#39;t need any other breaking&#xA;&#xA;&#xA;    changes, we can tag &lt;code&gt;v2.0.0&lt;/code&gt;:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ git tag v2.0.0&#xA;$ git push origin v2.0.0&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    At that point, there are now two major versions to maintain. Backwards&#xA;&#xA;&#xA;    compatible changes and bug fixes will lead to new minor and patch releases&#xA;&#xA;&#xA;    (for example, &lt;code&gt;v1.1.0&lt;/code&gt;, &lt;code&gt;v2.0.1&lt;/code&gt;, etc.).&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_5.&#34;&gt;Conclusion&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Major version changes result in development and maintenance overhead and&#xA;&#xA;&#xA;    require investment from downstream users to migrate. The larger the project,&#xA;&#xA;&#xA;    the larger these overheads tend to be. A major version change should only come&#xA;&#xA;&#xA;    after identifying a compelling reason. Once a compelling reason has been&#xA;&#xA;&#xA;    identified for a breaking change, we recommend developing multiple major&#xA;&#xA;&#xA;    versions in the master branch because it is compatible with a wider variety of&#xA;&#xA;&#xA;    existing tools.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Breaking changes to a &lt;code&gt;v1+&lt;/code&gt; module should always happen in a new, &lt;code&gt;vN+1&lt;/code&gt; module.&#xA;&#xA;&#xA;    When a new module is released, it means additional work for the maintainers and&#xA;&#xA;&#xA;    for the users who need to migrate to the new package. Maintainers should&#xA;&#xA;&#xA;    therefore validate their APIs before making a stable release, and consider&#xA;&#xA;&#xA;    carefully whether breaking changes are really necessary beyond &lt;code&gt;v1&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;  &#xA;</content></entry><entry><title>Working with Errors in Go 1.13</title><id>tag:blog.golang.org,2013:blog.golang.org/go1.13-errors</id><link rel="alternate" href="https://blog.golang.org/go1.13-errors"></link><published>2019-10-17T11:00:00+00:00</published><updated>2019-10-17T11:00:00+00:00</updated><author><name>Damien Neil and Jonathan Amsterdam</name></author><summary type="html">Go’s treatment of &lt;a href=&#34;https://blog.golang.org/errors-are-values&#34; target=&#34;_blank&#34;&gt;errors as values&lt;/a&gt;&#xA;has served us well over the last decade. Although the standard library’s support&#xA;for errors has been minimal—just the &lt;code&gt;errors.New&lt;/code&gt; and &lt;code&gt;fmt.Errorf&lt;/code&gt; functions,&#xA;which produce errors that contain only a message—the built-in &lt;code&gt;error&lt;/code&gt; interface&#xA;allows Go programmers to add whatever information they desire. All it requires&#xA;is a type that implements an &lt;code&gt;Error&lt;/code&gt; method:&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_1.&#34;&gt;Introduction&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Go’s treatment of &lt;a href=&#34;https://blog.golang.org/errors-are-values&#34; target=&#34;_blank&#34;&gt;errors as values&lt;/a&gt;&#xA;&#xA;&#xA;    has served us well over the last decade. Although the standard library’s support&#xA;&#xA;&#xA;    for errors has been minimal—just the &lt;code&gt;errors.New&lt;/code&gt; and &lt;code&gt;fmt.Errorf&lt;/code&gt; functions,&#xA;&#xA;&#xA;    which produce errors that contain only a message—the built-in &lt;code&gt;error&lt;/code&gt; interface&#xA;&#xA;&#xA;    allows Go programmers to add whatever information they desire. All it requires&#xA;&#xA;&#xA;    is a type that implements an &lt;code&gt;Error&lt;/code&gt; method:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;type QueryError struct {&#xA;    Query string&#xA;    Err   error&#xA;}&#xA;&#xA;func (e *QueryError) Error() string { return e.Query &amp;#43; &amp;#34;: &amp;#34; &amp;#43; e.Err.Error() }&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Error types like this one are ubiquitous, and the information they store varies&#xA;&#xA;&#xA;    widely, from timestamps to filenames to server addresses. Often, that&#xA;&#xA;&#xA;    information includes another, lower-level error to provide additional context.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The pattern of one error containing another is so pervasive in Go code that,&#xA;&#xA;&#xA;    after &lt;a href=&#34;https://golang.org/issue/29934&#34; target=&#34;_blank&#34;&gt;extensive discussion&lt;/a&gt;, Go 1.13 added&#xA;&#xA;&#xA;    explicit support for it. This post describes the additions to the standard&#xA;&#xA;&#xA;    library that provide that support: three new functions in the &lt;code&gt;errors&lt;/code&gt; package,&#xA;&#xA;&#xA;    and a new formatting verb for &lt;code&gt;fmt.Errorf&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Before describing the changes in detail, let&amp;#39;s review how errors are examined&#xA;&#xA;&#xA;    and constructed in previous versions of the language.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_2.&#34;&gt;Errors before Go 1.13&lt;/h4&gt;&#xA;  &#xA;  &lt;h4 id=&#34;TOC_2.1.&#34;&gt;Examining errors&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Go errors are values. Programs make decisions based on those values in a few&#xA;&#xA;&#xA;    ways. The most common is to compare an error to &lt;code&gt;nil&lt;/code&gt; to see if an operation&#xA;&#xA;&#xA;    failed.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;if err != nil {&#xA;    // something went wrong&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Sometimes we compare an error to a known &lt;i&gt;sentinel&lt;/i&gt; value, to see if a specific error has occurred.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;var ErrNotFound = errors.New(&amp;#34;not found&amp;#34;)&#xA;&#xA;if err == ErrNotFound {&#xA;    // something wasn&amp;#39;t found&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    An error value may be of any type which satisfies the language-defined &lt;code&gt;error&lt;/code&gt;&#xA;&#xA;&#xA;    interface. A program can use a type assertion or type switch to view an error&#xA;&#xA;&#xA;    value as a more specific type.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;type NotFoundError struct {&#xA;    Name string&#xA;}&#xA;&#xA;func (e *NotFoundError) Error() string { return e.Name &amp;#43; &amp;#34;: not found&amp;#34; }&#xA;&#xA;if e, ok := err.(*NotFoundError); ok {&#xA;    // e.Name wasn&amp;#39;t found&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;&#xA;  &lt;h4 id=&#34;TOC_2.2.&#34;&gt;Adding information&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Frequently a function passes an error up the call stack while adding information&#xA;&#xA;&#xA;    to it, like a brief description of what was happening when the error occurred. A&#xA;&#xA;&#xA;    simple way to do this is to construct a new error that includes the text of the&#xA;&#xA;&#xA;    previous one:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;if err != nil {&#xA;    return fmt.Errorf(&amp;#34;decompress %v: %v&amp;#34;, name, err)&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Creating a new error with &lt;code&gt;fmt.Errorf&lt;/code&gt; discards everything from the original&#xA;&#xA;&#xA;    error except the text. As we saw above with &lt;code&gt;QueryError&lt;/code&gt;, we may sometimes want&#xA;&#xA;&#xA;    to define a new error type that contains the underlying error, preserving it for&#xA;&#xA;&#xA;    inspection by code. Here is &lt;code&gt;QueryError&lt;/code&gt; again:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;type QueryError struct {&#xA;    Query string&#xA;    Err   error&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Programs can look inside a &lt;code&gt;*QueryError&lt;/code&gt; value to make decisions based on the&#xA;&#xA;&#xA;    underlying error. You&amp;#39;ll sometimes see this referred to as &amp;#34;unwrapping&amp;#34; the&#xA;&#xA;&#xA;    error.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;if e, ok := err.(*QueryError); ok &amp;amp;&amp;amp; e.Err == ErrPermission {&#xA;    // query failed because of a permission problem&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The &lt;code&gt;os.PathError&lt;/code&gt; type in the standard library is another example of one error which contains another.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_3.&#34;&gt;Errors in Go 1.13&lt;/h4&gt;&#xA;  &#xA;  &lt;h4 id=&#34;TOC_3.1.&#34;&gt;The Unwrap method&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Go 1.13 introduces new features to the &lt;code&gt;errors&lt;/code&gt; and &lt;code&gt;fmt&lt;/code&gt; standard library&#xA;&#xA;&#xA;    packages to simplify working with errors that contain other errors. The most&#xA;&#xA;&#xA;    significant of these is a convention rather than a change: an error which&#xA;&#xA;&#xA;    contains another may implement an &lt;code&gt;Unwrap&lt;/code&gt; method returning the underlying&#xA;&#xA;&#xA;    error. If &lt;code&gt;e1.Unwrap()&lt;/code&gt; returns &lt;code&gt;e2&lt;/code&gt;, then we say that &lt;code&gt;e1&lt;/code&gt; &lt;i&gt;wraps&lt;/i&gt; &lt;code&gt;e2&lt;/code&gt;, and&#xA;&#xA;&#xA;    that you can &lt;i&gt;unwrap&lt;/i&gt; &lt;code&gt;e1&lt;/code&gt; to get &lt;code&gt;e2&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Following this convention, we can give the &lt;code&gt;QueryError&lt;/code&gt; type above an &lt;code&gt;Unwrap&lt;/code&gt;&#xA;&#xA;&#xA;    method that returns its contained error:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;func (e *QueryError) Unwrap() error { return e.Err }&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The result of unwrapping an error may itself have an &lt;code&gt;Unwrap&lt;/code&gt; method; we call&#xA;&#xA;&#xA;    the sequence of errors produced by repeated unwrapping the &lt;i&gt;error chain&lt;/i&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;  &lt;h4 id=&#34;TOC_3.2.&#34;&gt;Examining errors with Is and As&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    The Go 1.13 &lt;code&gt;errors&lt;/code&gt; package includes two new functions for examining errors: &lt;code&gt;Is&lt;/code&gt; and &lt;code&gt;As&lt;/code&gt;. &#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The &lt;code&gt;errors.Is&lt;/code&gt; function compares an error to a value.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;// Similar to:&#xA;//   if err == ErrNotFound { … }&#xA;if errors.Is(err, ErrNotFound) {&#xA;    // something wasn&amp;#39;t found&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The &lt;code&gt;As&lt;/code&gt; function tests whether an error is a specific type.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;// Similar to:&#xA;//   if e, ok := err.(*QueryError); ok { … }&#xA;var e *QueryError&#xA;if errors.As(err, &amp;amp;e) {&#xA;    // err is a *QueryError, and e is set to the error&amp;#39;s value&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    In the simplest case, the &lt;code&gt;errors.Is&lt;/code&gt; function behaves like a comparison to a&#xA;&#xA;&#xA;    sentinel error, and the &lt;code&gt;errors.As&lt;/code&gt; function behaves like a type assertion. When&#xA;&#xA;&#xA;    operating on wrapped errors, however, these functions consider all the errors in&#xA;&#xA;&#xA;    a chain. Let&amp;#39;s look again at the example from above of unwrapping a &lt;code&gt;QueryError&lt;/code&gt;&#xA;&#xA;&#xA;    to examine the underlying error:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;if e, ok := err.(*QueryError); ok &amp;amp;&amp;amp; e.Err == ErrPermission {&#xA;    // query failed because of a permission problem&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Using the &lt;code&gt;errors.Is&lt;/code&gt; function, we can write this as:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;if errors.Is(err, ErrPermission) {&#xA;    // err, or some error that it wraps, is a permission problem&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The &lt;code&gt;errors&lt;/code&gt; package also includes a new &lt;code&gt;Unwrap&lt;/code&gt; function which returns the&#xA;&#xA;&#xA;    result of calling an error&amp;#39;s &lt;code&gt;Unwrap&lt;/code&gt; method, or &lt;code&gt;nil&lt;/code&gt; when the error has no&#xA;&#xA;&#xA;    &lt;code&gt;Unwrap&lt;/code&gt; method. It is usually better to use &lt;code&gt;errors.Is&lt;/code&gt; or &lt;code&gt;errors.As&lt;/code&gt;,&#xA;&#xA;&#xA;    however, since these functions will examine the entire chain in a single call.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;  &lt;h4 id=&#34;TOC_3.3.&#34;&gt;Wrapping errors with %w&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    As mentioned earlier, it is common to use the &lt;code&gt;fmt.Errorf&lt;/code&gt; function to add additional information to an error.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;if err != nil {&#xA;    return fmt.Errorf(&amp;#34;decompress %v: %v&amp;#34;, name, err)&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    In Go 1.13, the &lt;code&gt;fmt.Errorf&lt;/code&gt; function supports a new &lt;code&gt;%w&lt;/code&gt; verb. When this verb&#xA;&#xA;&#xA;    is present, the error returned by &lt;code&gt;fmt.Errorf&lt;/code&gt; will have an &lt;code&gt;Unwrap&lt;/code&gt; method&#xA;&#xA;&#xA;    returning the argument of &lt;code&gt;%w&lt;/code&gt;, which must be an error. In all other ways, &lt;code&gt;%w&lt;/code&gt;&#xA;&#xA;&#xA;    is identical to &lt;code&gt;%v&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;if err != nil {&#xA;    // Return an error which unwraps to err.&#xA;    return fmt.Errorf(&amp;#34;decompress %v: %w&amp;#34;, name, err)&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Wrapping an error with &lt;code&gt;%w&lt;/code&gt; makes it available to &lt;code&gt;errors.Is&lt;/code&gt; and &lt;code&gt;errors.As&lt;/code&gt;:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;err := fmt.Errorf(&amp;#34;access denied: %w&amp;#34;, ErrPermission)&#xA;...&#xA;if errors.Is(err, ErrPermission) ...&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;&#xA;  &lt;h4 id=&#34;TOC_3.4.&#34;&gt;Whether to Wrap&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    When adding additional context to an error, either with &lt;code&gt;fmt.Errorf&lt;/code&gt; or by&#xA;&#xA;&#xA;    implementing a custom type, you need to decide whether the new error should wrap&#xA;&#xA;&#xA;    the original. There is no single answer to this question; it depends on the&#xA;&#xA;&#xA;    context in which the new error is created. Wrap an error to expose it to&#xA;&#xA;&#xA;    callers. Do not wrap an error when doing so would expose implementation details.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    As one example, imagine a &lt;code&gt;Parse&lt;/code&gt; function which reads a complex data structure&#xA;&#xA;&#xA;    from an &lt;code&gt;io.Reader&lt;/code&gt;. If an error occurs, we wish to report the line and column&#xA;&#xA;&#xA;    number at which it occurred. If the error occurs while reading from the&#xA;&#xA;&#xA;    &lt;code&gt;io.Reader&lt;/code&gt;, we will want to wrap that error to allow inspection of the&#xA;&#xA;&#xA;    underlying problem. Since the caller provided the &lt;code&gt;io.Reader&lt;/code&gt; to the function,&#xA;&#xA;&#xA;    it makes sense to expose the error produced by it.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    In contrast, a function which makes several calls to a database probably should&#xA;&#xA;&#xA;    not return an error which unwraps to the result of one of those calls. If the&#xA;&#xA;&#xA;    database used by the function is an implementation detail, then exposing these&#xA;&#xA;&#xA;    errors is a violation of abstraction. For example, if the &lt;code&gt;LookupUser&lt;/code&gt; function&#xA;&#xA;&#xA;    of your package &lt;code&gt;pkg&lt;/code&gt; uses Go&amp;#39;s &lt;code&gt;database/sql&lt;/code&gt; package, then it may encounter a&#xA;&#xA;&#xA;    &lt;code&gt;sql.ErrNoRows&lt;/code&gt; error. If you return that error with&#xA;&#xA;&#xA;    &lt;code&gt;fmt.Errorf(&amp;#34;accessing DB: %v&amp;#34;, err)&lt;/code&gt;&#xA;&#xA;&#xA;    then a caller cannot look inside to find the &lt;code&gt;sql.ErrNoRows&lt;/code&gt;. But if&#xA;&#xA;&#xA;    the function instead returns &lt;code&gt;fmt.Errorf(&amp;#34;accessing DB: %w&amp;#34;, err)&lt;/code&gt;, then a&#xA;&#xA;&#xA;    caller could reasonably write&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;err := pkg.LookupUser(...)&#xA;if errors.Is(err, sql.ErrNoRows) …&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    At that point, the function must always return &lt;code&gt;sql.ErrNoRows&lt;/code&gt; if you don&amp;#39;t want&#xA;&#xA;&#xA;    to break your clients, even if you switch to a different database package. In&#xA;&#xA;&#xA;    other words, wrapping an error makes that error part of your API. If you don&amp;#39;t&#xA;&#xA;&#xA;    want to commit to supporting that error as part of your API in the future, you&#xA;&#xA;&#xA;    shouldn&amp;#39;t wrap the error.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    It’s important to remember that whether you wrap or not, the error text will be&#xA;&#xA;&#xA;    the same. A &lt;i&gt;person&lt;/i&gt; trying to understand the error will have the same information&#xA;&#xA;&#xA;    either way; the choice to wrap is about whether to give &lt;i&gt;programs&lt;/i&gt; additional&#xA;&#xA;&#xA;    information so they can make more informed decisions, or to withhold that&#xA;&#xA;&#xA;    information to preserve an abstraction layer.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_4.&#34;&gt;Customizing error tests with Is and As methods&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    The &lt;code&gt;errors.Is&lt;/code&gt; function examines each error in a chain for a match with a&#xA;&#xA;&#xA;    target value. By default, an error matches the target if the two are equal. In&#xA;&#xA;&#xA;    addition, an error in the chain may declare that it matches a target by&#xA;&#xA;&#xA;    implementing an &lt;code&gt;Is&lt;/code&gt; &lt;i&gt;method&lt;/i&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    As an example, consider this error inspired by the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://commandcenter.blogspot.com/2017/12/error-handling-in-upspin.html&#34; target=&#34;_blank&#34;&gt;Upspin error package&lt;/a&gt;&#xA;&#xA;&#xA;    which compares an error against a template, considering only fields which are&#xA;&#xA;&#xA;    non-zero in the template:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;type Error struct {&#xA;    Path string&#xA;    User string&#xA;}&#xA;&#xA;func (e *Error) Is(target error) bool {&#xA;    t, ok := target.(*Error)&#xA;    if !ok {&#xA;        return false&#xA;    }&#xA;    return (e.Path == t.Path || t.Path == &amp;#34;&amp;#34;) &amp;amp;&amp;amp;&#xA;           (e.User == t.User || t.User == &amp;#34;&amp;#34;)&#xA;}&#xA;&#xA;if errors.Is(err, &amp;amp;Error{User: &amp;#34;someuser&amp;#34;}) {&#xA;    // err&amp;#39;s User field is &amp;#34;someuser&amp;#34;.&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The &lt;code&gt;errors.As&lt;/code&gt; function similarly consults an &lt;code&gt;As&lt;/code&gt; method when present.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_5.&#34;&gt;Errors and package APIs&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    A package which returns errors (and most do) should describe what properties of&#xA;&#xA;&#xA;    those errors programmers may rely on. A well-designed package will also avoid&#xA;&#xA;&#xA;    returning errors with properties that should not be relied upon.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The simplest specification is to say that operations either succeed or fail,&#xA;&#xA;&#xA;    returning a nil or non-nil error value respectively. In many cases, no further&#xA;&#xA;&#xA;    information is needed.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If we wish a function to return an identifiable error condition, such as &amp;#34;item&#xA;&#xA;&#xA;    not found,&amp;#34; we might return an error wrapping a sentinel.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;var ErrNotFound = errors.New(&amp;#34;not found&amp;#34;)&#xA;&#xA;// FetchItem returns the named item.&#xA;//&#xA;// If no item with the name exists, FetchItem returns an error&#xA;// wrapping ErrNotFound.&#xA;func FetchItem(name string) (*Item, error) {&#xA;    if itemNotFound(name) {&#xA;        return nil, fmt.Errorf(&amp;#34;%q: %w&amp;#34;, name, ErrNotFound)&#xA;    }&#xA;    // ...&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    There are other existing patterns for providing errors which can be semantically&#xA;&#xA;&#xA;    examined by the caller, such as directly returning a sentinel value, a specific&#xA;&#xA;&#xA;    type, or a value which can be examined with a predicate function.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    In all cases, care should be taken not to expose internal details to the user.&#xA;&#xA;&#xA;    As we touched on in &amp;#34;Whether to Wrap&amp;#34; above, when you return&#xA;&#xA;&#xA;    an error from another package you should convert the error to a form that does&#xA;&#xA;&#xA;    not expose the underlying error, unless you are willing to commit to returning&#xA;&#xA;&#xA;    that specific error in the future.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;f, err := os.Open(filename)&#xA;if err != nil {&#xA;    // The *os.PathError returned by os.Open is an internal detail.&#xA;    // To avoid exposing it to the caller, repackage it as a new&#xA;    // error with the same text. We use the %v formatting verb, since&#xA;    // %w would permit the caller to unwrap the original *os.PathError.&#xA;    return fmt.Errorf(&amp;#34;%v&amp;#34;, err)&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If a function is defined as returning an error wrapping some sentinel or type,&#xA;&#xA;&#xA;    do not return the underlying error directly.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;var ErrPermission = errors.New(&amp;#34;permission denied&amp;#34;)&#xA;&#xA;// DoSomething returns an error wrapping ErrPermission if the user&#xA;// does not have permission to do something.&#xA;func DoSomething() error {&#xA;    if !userHasPermission() {&#xA;        // If we return ErrPermission directly, callers might come&#xA;        // to depend on the exact error value, writing code like this:&#xA;        //&#xA;        //     if err := pkg.DoSomething(); err == pkg.ErrPermission { … }&#xA;        //&#xA;        // This will cause problems if we want to add additional&#xA;        // context to the error in the future. To avoid this, we&#xA;        // return an error wrapping the sentinel so that users must&#xA;        // always unwrap it:&#xA;        //&#xA;        //     if err := pkg.DoSomething(); errors.Is(err, pkg.ErrPermission) { ... }&#xA;        return fmt.Errorf(&amp;#34;%w&amp;#34;, ErrPermission)&#xA;    }&#xA;    // ...&#xA;}&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_6.&#34;&gt;Conclusion&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Although the changes we’ve discussed amount to just three functions and a&#xA;&#xA;&#xA;    formatting verb, we hope they will go a long way toward improving how errors are&#xA;&#xA;&#xA;    handled in Go programs. We expect that wrapping to provide additional context&#xA;&#xA;&#xA;    will become commonplace, helping programs to make better decisions and helping&#xA;&#xA;&#xA;    programmers to find bugs more quickly.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    As Russ Cox said in his &lt;a href=&#34;https://blog.golang.org/experiment&#34; target=&#34;_blank&#34;&gt;GopherCon 2019 keynote&lt;/a&gt;,&#xA;&#xA;&#xA;    on the path to Go 2 we experiment, simplify and ship. Now that we’ve&#xA;&#xA;&#xA;    shipped these changes, we look forward to the experiments that will follow.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;  &#xA;</content></entry><entry><title>Publishing Go Modules</title><id>tag:blog.golang.org,2013:blog.golang.org/publishing-go-modules</id><link rel="alternate" href="https://blog.golang.org/publishing-go-modules"></link><published>2019-09-26T11:00:00+00:00</published><updated>2019-09-26T11:00:00+00:00</updated><author><name>Tyler Bui-Palsulich</name></author><summary type="html">This post is part 3 in a series.&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_1.&#34;&gt;Introduction&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    This post is part 3 in a series.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;Part 1 — &lt;a href=&#34;/using-go-modules&#34; target=&#34;_self&#34;&gt;Using Go Modules&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Part 2 — &lt;a href=&#34;/migrating-to-go-modules&#34; target=&#34;_self&#34;&gt;Migrating To Go Modules&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;b&gt;Part 3 — Publishing Go Modules&lt;/b&gt; (this post)&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Part 4 — &lt;a href=&#34;/v2-go-modules&#34; target=&#34;_self&#34;&gt;Go Modules: v2 and Beyond&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    This post discusses how to write and publish modules so other modules can depend&#xA;&#xA;&#xA;    on them.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Please note: this post covers development up to and including &lt;code&gt;v1&lt;/code&gt;. If you are&#xA;&#xA;&#xA;    interested in &lt;code&gt;v2&lt;/code&gt;, please see &lt;a href=&#34;/v2-go-modules&#34; target=&#34;_self&#34;&gt;Go Modules: v2 and Beyond&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    This post uses &lt;a href=&#34;https://git-scm.com/&#34; target=&#34;_blank&#34;&gt;Git&lt;/a&gt; in examples.&#xA;&#xA;&#xA;    &lt;a href=&#34;https://www.mercurial-scm.org/&#34; target=&#34;_blank&#34;&gt;Mercurial&lt;/a&gt;,&#xA;&#xA;&#xA;    &lt;a href=&#34;http://wiki.bazaar.canonical.com/&#34; target=&#34;_blank&#34;&gt;Bazaar&lt;/a&gt;, and others are supported as well.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_2.&#34;&gt;Project setup&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    For this post, you&amp;#39;ll need an existing project to use as an example. So, start&#xA;&#xA;&#xA;    with the files from the end of the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://blog.golang.org/using-go-modules&#34; target=&#34;_blank&#34;&gt;Using Go Modules&lt;/a&gt; article:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ cat go.mod&#xA;module example.com/hello&#xA;&#xA;go 1.12&#xA;&#xA;require rsc.io/quote/v3 v3.1.0&#xA;&#xA;$ cat go.sum&#xA;golang.org/x/text v0.0.0-20170915032832-14c0d48ead0c h1:qgOY6WgZOaTkIIMiVjBQcw93ERBE4m30iBm00nkL0i8=&#xA;golang.org/x/text v0.0.0-20170915032832-14c0d48ead0c/go.mod h1:NqM8EUOU14njkJ3fqMW&amp;#43;pc6Ldnwhi/IjpwHt7yyuwOQ=&#xA;rsc.io/quote/v3 v3.1.0 h1:9JKUTTIUgS6kzR9mK1YuGKv6Nl&amp;#43;DijDNIc0ghT58FaY=&#xA;rsc.io/quote/v3 v3.1.0/go.mod h1:yEA65RcK8LyAZtP9Kv3t0HmxON59tX3rD&amp;#43;tICJqUlj0=&#xA;rsc.io/sampler v1.3.0 h1:7uVkIFmeBqHfdjD&amp;#43;gZwtXXI&amp;#43;RODJ2Wc4O7MPEh/QiW4=&#xA;rsc.io/sampler v1.3.0/go.mod h1:T1hPZKmBbMNahiBKFy5HrXp6adAjACjK9JXDnKaTXpA=&#xA;&#xA;$ cat hello.go&#xA;package hello&#xA;&#xA;import &amp;#34;rsc.io/quote/v3&amp;#34;&#xA;&#xA;func Hello() string {&#xA;    return quote.HelloV3()&#xA;}&#xA;&#xA;func Proverb() string {&#xA;    return quote.Concurrency()&#xA;}&#xA;&#xA;$ cat hello_test.go&#xA;package hello&#xA;&#xA;import (&#xA;    &amp;#34;testing&amp;#34;&#xA;)&#xA;&#xA;func TestHello(t *testing.T) {&#xA;    want := &amp;#34;Hello, world.&amp;#34;&#xA;    if got := Hello(); got != want {&#xA;        t.Errorf(&amp;#34;Hello() = %q, want %q&amp;#34;, got, want)&#xA;    }&#xA;}&#xA;&#xA;func TestProverb(t *testing.T) {&#xA;    want := &amp;#34;Concurrency is not parallelism.&amp;#34;&#xA;    if got := Proverb(); got != want {&#xA;        t.Errorf(&amp;#34;Proverb() = %q, want %q&amp;#34;, got, want)&#xA;    }&#xA;}&#xA;&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Next, create a new &lt;code&gt;git&lt;/code&gt; repository and add an initial commit. If you&amp;#39;re&#xA;&#xA;&#xA;    publishing your own project, be sure to include a &lt;code&gt;LICENSE&lt;/code&gt; file. Change to the&#xA;&#xA;&#xA;    directory containing the &lt;code&gt;go.mod&lt;/code&gt; then create the repo:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ git init&#xA;$ git add LICENSE go.mod go.sum hello.go hello_test.go&#xA;$ git commit -m &amp;#34;hello: initial commit&amp;#34;&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_3.&#34;&gt;Semantic versions and modules&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Every required module in a &lt;code&gt;go.mod&lt;/code&gt; has a&#xA;&#xA;&#xA;    &lt;a href=&#34;https://semver.org&#34; target=&#34;_blank&#34;&gt;semantic version&lt;/a&gt;, the minimum version of that dependency&#xA;&#xA;&#xA;    to use to build the module.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    A semantic version has the form &lt;code&gt;vMAJOR.MINOR.PATCH&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;Increment the &lt;code&gt;MAJOR&lt;/code&gt; version when you make a &lt;a href=&#34;https://golang.org/doc/go1compat&#34; target=&#34;_blank&#34;&gt;backwards incompatible&lt;/a&gt; change to the public API of your module. This should only be done when absolutely necessary.&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Increment the &lt;code&gt;MINOR&lt;/code&gt; version when you make a backwards compatible change to the API, like changing dependencies or adding a new function, method, struct field, or type.&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Increment the &lt;code&gt;PATCH&lt;/code&gt; version after making minor changes that don&amp;#39;t affect your module&amp;#39;s public API or dependencies, like fixing a bug.&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    You can specify pre-release versions by appending a hyphen and dot separated&#xA;&#xA;&#xA;    identifiers (for example, &lt;code&gt;v1.0.1-alpha&lt;/code&gt; or &lt;code&gt;v2.2.2-beta.2&lt;/code&gt;). Normal releases&#xA;&#xA;&#xA;    are preferred by the &lt;code&gt;go&lt;/code&gt; command over pre-release versions, so users must ask&#xA;&#xA;&#xA;    for pre-release versions explicitly (for example,&#xA;&#xA;&#xA;    &lt;code&gt;go get example.com/hello@v1.0.1-alpha&lt;/code&gt;) if your module has any normal releases.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;code&gt;v0&lt;/code&gt; major versions and pre-release versions do not guarantee backwards&#xA;&#xA;&#xA;    compatibility. They let you refine your API before making stability commitments&#xA;&#xA;&#xA;    to your users. However, &lt;code&gt;v1&lt;/code&gt; major versions and beyond require backwards&#xA;&#xA;&#xA;    compatibility within that major version.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The version referenced in a &lt;code&gt;go.mod&lt;/code&gt; may be an explicit release tagged in the&#xA;&#xA;&#xA;    repository (for example, &lt;code&gt;v1.5.2&lt;/code&gt;), or it may be a&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Pseudo_versions&#34; target=&#34;_blank&#34;&gt;pseudo-version&lt;/a&gt; based on a&#xA;&#xA;&#xA;    specific commit (for example, &lt;code&gt;v0.0.0-20170915032832-14c0d48ead0c&lt;/code&gt;).&#xA;&#xA;&#xA;    Pseudo-versions are a special type of pre-release version. Pseudo-versions are&#xA;&#xA;&#xA;    useful when a user needs to depend on a project that has not published any&#xA;&#xA;&#xA;    semantic version tags, or develop against a commit that hasn&amp;#39;t been tagged yet,&#xA;&#xA;&#xA;    but users should not assume that pseudo-versions provide a stable or well-tested&#xA;&#xA;&#xA;    API. Tagging your modules with explicit versions signals to your users that&#xA;&#xA;&#xA;    specific versions are fully tested and ready to use.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Once you start tagging your repo with versions, it&amp;#39;s important to keep tagging&#xA;&#xA;&#xA;    new releases as you develop your module. When users request a new version of&#xA;&#xA;&#xA;    your module (with &lt;code&gt;go get -u&lt;/code&gt; or &lt;code&gt;go get example.com/hello&lt;/code&gt;), the &lt;code&gt;go&lt;/code&gt; command&#xA;&#xA;&#xA;    will choose the greatest semantic release version available, even if that&#xA;&#xA;&#xA;    version is several years old and many changes behind the primary branch.&#xA;&#xA;&#xA;    Continuing to tag new releases will make your ongoing improvements available to&#xA;&#xA;&#xA;    your users.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Do not delete version tags from your repo. If you find a bug or a security issue&#xA;&#xA;&#xA;    with a version, release a new version. If people depend on a version that you&#xA;&#xA;&#xA;    have deleted, their builds may fail. Similarly, once you release a version, do&#xA;&#xA;&#xA;    not change or overwrite it. The&#xA;&#xA;&#xA;    &lt;a href=&#34;https://blog.golang.org/module-mirror-launch&#34; target=&#34;_blank&#34;&gt;module mirror and checksum database&lt;/a&gt;&#xA;&#xA;&#xA;    store modules, their versions, and signed cryptographic hashes to ensure that&#xA;&#xA;&#xA;    the build of a given version remains reproducible over time.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_4.&#34;&gt;v0: the initial, unstable version&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Let&amp;#39;s tag the module with a &lt;code&gt;v0&lt;/code&gt; semantic version. A &lt;code&gt;v0&lt;/code&gt; version does not make&#xA;&#xA;&#xA;    any stability guarantees, so nearly all projects should start with &lt;code&gt;v0&lt;/code&gt; as they&#xA;&#xA;&#xA;    refine their public API.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Tagging a new version has a few steps:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    1. Run &lt;code&gt;go mod tidy&lt;/code&gt;, which removes any dependencies the module might have accumulated that are no longer necessary.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    2. Run &lt;code&gt;go test ./...&lt;/code&gt; a final time to make sure everything is working.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    3. Tag the project with a new version using &lt;a href=&#34;https://git-scm.com/docs/git-tag&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;git tag&lt;/code&gt;&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    4. Push the new tag to the origin repository.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go mod tidy&#xA;$ go test ./...&#xA;ok      example.com/hello       0.015s&#xA;$ git add go.mod go.sum hello.go hello_test.go&#xA;$ git commit -m &amp;#34;hello: changes for v0.1.0&amp;#34;&#xA;$ git tag v0.1.0&#xA;$ git push origin v0.1.0&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Now other projects can depend on &lt;code&gt;v0.1.0&lt;/code&gt; of &lt;code&gt;example.com/hello&lt;/code&gt;. For your own&#xA;&#xA;&#xA;    module, you can run &lt;code&gt;go list -m example.com/hello@v0.1.0&lt;/code&gt; to confirm the latest&#xA;&#xA;&#xA;    version is available (this example module does not exist, so no versions are&#xA;&#xA;&#xA;    available). If you don&amp;#39;t see the latest version immediately and you&amp;#39;re using the&#xA;&#xA;&#xA;    Go module proxy (the default since Go 1.13), try again in a few minutes to give&#xA;&#xA;&#xA;    the proxy time to load the new version.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If you add to the public API, make a breaking change to a &lt;code&gt;v0&lt;/code&gt; module, or&#xA;&#xA;&#xA;    upgrade the minor or version of one of your dependencies,  increment the &lt;code&gt;MINOR&lt;/code&gt;&#xA;&#xA;&#xA;    version for your next release. For example, the next release after &lt;code&gt;v0.1.0&lt;/code&gt;&#xA;&#xA;&#xA;    would be &lt;code&gt;v0.2.0&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If you fix a bug in an existing version, increment the &lt;code&gt;PATCH&lt;/code&gt; version. For&#xA;&#xA;&#xA;    example, the next release after &lt;code&gt;v0.1.0&lt;/code&gt; would be &lt;code&gt;v0.1.1&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_5.&#34;&gt;v1: the first stable version&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Once you are absolutely sure your module&amp;#39;s API is stable, you can release&#xA;&#xA;&#xA;    &lt;code&gt;v1.0.0&lt;/code&gt;. A &lt;code&gt;v1&lt;/code&gt; major version communicates to users that no incompatible&#xA;&#xA;&#xA;    changes will be made to the module&amp;#39;s API. They can upgrade to new &lt;code&gt;v1&lt;/code&gt; minor and&#xA;&#xA;&#xA;    patch releases, and their code should not break. Function and method signatures&#xA;&#xA;&#xA;    will not change, exported types will not be removed, and so on. If there are&#xA;&#xA;&#xA;    changes to the API, they will be backwards compatible (for example, adding a new&#xA;&#xA;&#xA;    field to a struct) and will be included in a new minor release. If there are bug&#xA;&#xA;&#xA;    fixes (for example, a security fix), they will be included in a patch release&#xA;&#xA;&#xA;    (or as part of a minor release).&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Sometimes, maintaining backwards compatibility can lead to awkward APIs. That&amp;#39;s&#xA;&#xA;&#xA;    OK. An imperfect API is better than breaking users&amp;#39; existing code.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The standard library&amp;#39;s &lt;code&gt;strings&lt;/code&gt; package is a prime example of maintaining&#xA;&#xA;&#xA;    backwards compatibility at the cost of API consistency.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;&lt;a href=&#34;https://godoc.org/strings#Split&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;Split&lt;/code&gt;&lt;/a&gt; slices a string into all substrings separated by a separator and returns a slice of the substrings between those separators.&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;a href=&#34;https://godoc.org/strings#SplitN&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;SplitN&lt;/code&gt;&lt;/a&gt; can be used to control the number of substrings to return.&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    However, &lt;a href=&#34;https://godoc.org/strings#Replace&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;Replace&lt;/code&gt;&lt;/a&gt; took a count of how&#xA;&#xA;&#xA;    many instances of the string to replace from the beginning (unlike &lt;code&gt;Split&lt;/code&gt;).&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Given &lt;code&gt;Split&lt;/code&gt; and &lt;code&gt;SplitN&lt;/code&gt;, you would expect functions like &lt;code&gt;Replace&lt;/code&gt; and&#xA;&#xA;&#xA;    &lt;code&gt;ReplaceN&lt;/code&gt;. But, we couldn&amp;#39;t change the existing &lt;code&gt;Replace&lt;/code&gt; without breaking&#xA;&#xA;&#xA;    callers, which we promised not to do. So, in Go 1.12, we added a new function,&#xA;&#xA;&#xA;    &lt;a href=&#34;https://godoc.org/strings#ReplaceAll&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;ReplaceAll&lt;/code&gt;&lt;/a&gt;. The resulting API is a&#xA;&#xA;&#xA;    little odd, since &lt;code&gt;Split&lt;/code&gt; and &lt;code&gt;Replace&lt;/code&gt; behave differently, but that&#xA;&#xA;&#xA;    inconsistency is better than a breaking change.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Let&amp;#39;s say you&amp;#39;re happy with the API of &lt;code&gt;example.com/hello&lt;/code&gt; and you want to&#xA;&#xA;&#xA;    release &lt;code&gt;v1&lt;/code&gt; as the first stable version.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Tagging &lt;code&gt;v1&lt;/code&gt; uses the same process as tagging a &lt;code&gt;v0&lt;/code&gt; version: run &lt;code&gt;go mod tidy&lt;/code&gt;&#xA;&#xA;&#xA;    and &lt;code&gt;go test ./...&lt;/code&gt;, tag the version, and push the tag to the origin repository:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go mod tidy&#xA;$ go test ./...&#xA;ok      example.com/hello       0.015s&#xA;$ git add go.mod go.sum hello.go hello_test.go&#xA;$ git commit -m &amp;#34;hello: changes for v1.0.0&amp;#34;&#xA;$ git tag v1.0.0&#xA;$ git push origin v1.0.0&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    At this point, the &lt;code&gt;v1&lt;/code&gt; API of &lt;code&gt;example.com/hello&lt;/code&gt; is solidified. This&#xA;&#xA;&#xA;    communicates to everyone that our API is stable and they should feel comfortable&#xA;&#xA;&#xA;    using it.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_6.&#34;&gt;Conclusion&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    This post walked through the process of tagging a module with semantic versions&#xA;&#xA;&#xA;    and when to release &lt;code&gt;v1&lt;/code&gt;. A future post will cover how to maintain and publish&#xA;&#xA;&#xA;    modules at &lt;code&gt;v2&lt;/code&gt; and beyond.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    To provide feedback and help shape the future of dependency management in Go,&#xA;&#xA;&#xA;    please send us &lt;a href=&#34;https://golang.org/issue/new&#34; target=&#34;_blank&#34;&gt;bug reports&lt;/a&gt; or&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/wiki/ExperienceReports&#34; target=&#34;_blank&#34;&gt;experience reports&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Thanks for all your feedback and help improving Go modules.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;  &#xA;</content></entry><entry><title>Go 1.13 is released</title><id>tag:blog.golang.org,2013:blog.golang.org/go1.13</id><link rel="alternate" href="https://blog.golang.org/go1.13"></link><published>2019-09-03T11:00:00+00:00</published><updated>2019-09-03T11:00:00+00:00</updated><author><name>Andrew Bonventre</name></author><summary type="html">Today the Go team is very happy to announce the release of Go 1.13. You can get it from the &lt;a href=&#34;https://golang.org/dl&#34; target=&#34;_blank&#34;&gt;download page&lt;/a&gt;.&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Today the Go team is very happy to announce the release of Go 1.13. You can get it from the &lt;a href=&#34;https://golang.org/dl&#34; target=&#34;_blank&#34;&gt;download page&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    Some of the highlights include:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;The &lt;code&gt;go&lt;/code&gt; command now downloads and authenticates modules &lt;a href=&#34;https://golang.org/doc/go1.13#introduction&#34; target=&#34;_blank&#34;&gt;using the Go module mirror and Go checksum database by default&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;a href=&#34;https://golang.org/doc/go1.13#language&#34; target=&#34;_blank&#34;&gt;Improvements to number literals&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;a href=&#34;https://golang.org/doc/go1.13#error_wrapping&#34; target=&#34;_blank&#34;&gt;Error wrapping&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;a href=&#34;https://golang.org/doc/go1.13#tls_1_3&#34; target=&#34;_blank&#34;&gt;TLS 1.3 on by default&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;a href=&#34;https://golang.org/doc/go1.13#modules&#34; target=&#34;_blank&#34;&gt;Improved modules support&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    For the complete list of changes and more information about the improvements above, see the &lt;a href=&#34;https://golang.org/doc/go1.13&#34; target=&#34;_blank&#34;&gt;&lt;b&gt;Go 1.13 release notes&lt;/b&gt;&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    We want to thank everyone who contributed to this release by writing code, filing bugs, providing feedback, and/or testing the beta and release candidates.&#xA;&#xA;&#xA;    Your contributions and diligence helped to ensure that Go 1.13 is as stable as possible.&#xA;&#xA;&#xA;    That said, if you notice any problems, please &lt;a href=&#34;https://golang.org/issue/new&#34; target=&#34;_blank&#34;&gt;file an issue&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    We hope you enjoy the new release!&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;    &#xA;  &#xA;</content></entry><entry><title>Module Mirror and Checksum Database Launched</title><id>tag:blog.golang.org,2013:blog.golang.org/module-mirror-launch</id><link rel="alternate" href="https://blog.golang.org/module-mirror-launch"></link><published>2019-08-29T11:00:00+00:00</published><updated>2019-08-29T11:00:00+00:00</updated><author><name>Katie Hockman</name></author><summary type="html">We are excited to share that our module &lt;a href=&#34;https://proxy.golang.org&#34; target=&#34;_blank&#34;&gt;mirror&lt;/a&gt;,&#xA;&lt;a href=&#34;https://index.golang.org&#34; target=&#34;_blank&#34;&gt;index&lt;/a&gt;, and&#xA;&lt;a href=&#34;https://sum.golang.org&#34; target=&#34;_blank&#34;&gt;checksum database&lt;/a&gt; are now production ready! The &lt;code&gt;go&lt;/code&gt; command&#xA;will use the module mirror and checksum database by default for&#xA;&lt;a href=&#34;https://golang.org/doc/go1.13#introduction&#34; target=&#34;_blank&#34;&gt;Go 1.13 module users&lt;/a&gt;.  See&#xA;&lt;a href=&#34;https://proxy.golang.org/privacy&#34; target=&#34;_blank&#34;&gt;proxy.golang.org/privacy&lt;/a&gt; for privacy&#xA;information about these services and the&#xA;&lt;a href=&#34;https://golang.org/cmd/go/#hdr-Module_downloading_and_verification&#34; target=&#34;_blank&#34;&gt;go command documentation&lt;/a&gt;&#xA;for configuration details, including how to disable the use of these servers or&#xA;use different ones.  If you depend on non-public modules, see the&#xA;&lt;a href=&#34;https://golang.org/cmd/go/#hdr-Module_configuration_for_non_public_modules&#34; target=&#34;_blank&#34;&gt;documentation for configuring your environment&lt;/a&gt;.&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    We are excited to share that our module &lt;a href=&#34;https://proxy.golang.org&#34; target=&#34;_blank&#34;&gt;mirror&lt;/a&gt;,&#xA;&#xA;&#xA;    &lt;a href=&#34;https://index.golang.org&#34; target=&#34;_blank&#34;&gt;index&lt;/a&gt;, and&#xA;&#xA;&#xA;    &lt;a href=&#34;https://sum.golang.org&#34; target=&#34;_blank&#34;&gt;checksum database&lt;/a&gt; are now production ready! The &lt;code&gt;go&lt;/code&gt; command&#xA;&#xA;&#xA;    will use the module mirror and checksum database by default for&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/doc/go1.13#introduction&#34; target=&#34;_blank&#34;&gt;Go 1.13 module users&lt;/a&gt;.  See&#xA;&#xA;&#xA;    &lt;a href=&#34;https://proxy.golang.org/privacy&#34; target=&#34;_blank&#34;&gt;proxy.golang.org/privacy&lt;/a&gt; for privacy&#xA;&#xA;&#xA;    information about these services and the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Module_downloading_and_verification&#34; target=&#34;_blank&#34;&gt;go command documentation&lt;/a&gt;&#xA;&#xA;&#xA;    for configuration details, including how to disable the use of these servers or&#xA;&#xA;&#xA;    use different ones.  If you depend on non-public modules, see the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Module_configuration_for_non_public_modules&#34; target=&#34;_blank&#34;&gt;documentation for configuring your environment&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &#xA;  &lt;p&gt;&#xA;    This post will describe these services and the benefits of using them, and&#xA;&#xA;&#xA;    summarizes some of the points from the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://youtu.be/KqTySYYhPUE&#34; target=&#34;_blank&#34;&gt;Go Module Proxy: Life of a Query&lt;/a&gt; talk at Gophercon 2019.&#xA;&#xA;&#xA;    See the &lt;a href=&#34;https://youtu.be/KqTySYYhPUE&#34; target=&#34;_blank&#34;&gt;recording&lt;/a&gt; if you are interested in the full talk.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;      &#xA;        &#xA;  &lt;h4 id=&#34;TOC_1.1.&#34;&gt;Module Mirror&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;a href=&#34;https://blog.golang.org/versioning-proposal&#34; target=&#34;_blank&#34;&gt;Modules&lt;/a&gt; are sets of Go packages&#xA;&#xA;&#xA;    that are versioned together, and the contents of each version are immutable.&#xA;&#xA;&#xA;    That immutability provides new opportunities for caching and authentication.&#xA;&#xA;&#xA;    When &lt;code&gt;go get&lt;/code&gt; runs in module mode, it must fetch the module containing the&#xA;&#xA;&#xA;    requested packages, as well as any new dependencies introduced by that module,&#xA;&#xA;&#xA;    updating your&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/cmd/go/#hdr-The_go_mod_file&#34; target=&#34;_blank&#34;&gt;go.mod&lt;/a&gt; and&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Module_downloading_and_verification&#34; target=&#34;_blank&#34;&gt;go.sum&lt;/a&gt;&#xA;&#xA;&#xA;    files as needed. Fetching modules from version control can be expensive in terms&#xA;&#xA;&#xA;    of latency and storage in your system: the &lt;code&gt;go&lt;/code&gt; command may be forced to pull down&#xA;&#xA;&#xA;    the full commit history of a repository containing a transitive dependency, even&#xA;&#xA;&#xA;    one that isn’t being built, just to resolve its version.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The solution is to use a module proxy, which speaks an API that is better suited&#xA;&#xA;&#xA;    to the &lt;code&gt;go&lt;/code&gt; command’s needs (see &lt;code&gt;go help goproxy&lt;/code&gt;). When &lt;code&gt;go get&lt;/code&gt; runs in&#xA;&#xA;&#xA;    module mode with a proxy, it will work faster by only asking for the specific&#xA;&#xA;&#xA;    module metadata or source code it needs, and not worrying about the rest. Below is&#xA;&#xA;&#xA;    an example of how the &lt;code&gt;go&lt;/code&gt; command may use a proxy with &lt;code&gt;go get&lt;/code&gt; by requesting the list&#xA;&#xA;&#xA;    of versions, then the info, mod, and zip file for the latest tagged version.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;module-mirror-launch/proxy-protocol.png&#34; width=&#34;800&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    A module mirror is a special kind of module proxy that caches metadata and&#xA;&#xA;&#xA;    source code in its own storage system, allowing the mirror to continue to serve&#xA;&#xA;&#xA;    source code that is no longer available from the original locations. This can&#xA;&#xA;&#xA;    speed up downloads and protect you from disappearing dependencies. See&#xA;&#xA;&#xA;    &lt;a href=&#34;https://blog.golang.org/modules2019&#34; target=&#34;_blank&#34;&gt;Go Modules in 2019&lt;/a&gt; for more information.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The Go team maintains a module mirror, served at&#xA;&#xA;&#xA;    &lt;a href=&#34;https://proxy.golang.org&#34; target=&#34;_blank&#34;&gt;proxy.golang.org&lt;/a&gt;, which the &lt;code&gt;go&lt;/code&gt; command will use by&#xA;&#xA;&#xA;    default for module users as of Go 1.13. If you are running an earlier version of the &lt;code&gt;go&lt;/code&gt;&#xA;&#xA;&#xA;    command, then you can use this service by setting&#xA;&#xA;&#xA;    &lt;code&gt;GOPROXY=https://proxy.golang.org&lt;/code&gt; in your local environment.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;      &#xA;        &#xA;  &lt;h4 id=&#34;TOC_1.2.&#34;&gt;Checksum Database&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Modules introduced the &lt;code&gt;go.sum&lt;/code&gt; file, which is a list of SHA-256 hashes of the&#xA;&#xA;&#xA;    source code and &lt;code&gt;go.mod&lt;/code&gt; files of each dependency when it was first downloaded.&#xA;&#xA;&#xA;    The &lt;code&gt;go&lt;/code&gt; command can use the hashes to detect misbehavior by an origin server or&#xA;&#xA;&#xA;    proxy that gives you different code for the same version.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The limitation of this &lt;code&gt;go.sum&lt;/code&gt; file is that it works entirely by trust on &lt;i&gt;your&lt;/i&gt;&#xA;&#xA;&#xA;    first use. When you add a version of a dependency that you’ve never seen before&#xA;&#xA;&#xA;    to your module (possibly by upgrading an existing dependency), the &lt;code&gt;go&lt;/code&gt; command&#xA;&#xA;&#xA;    fetches the code and adds lines to the &lt;code&gt;go.sum&lt;/code&gt; file on the fly. The problem is&#xA;&#xA;&#xA;    that those &lt;code&gt;go.sum&lt;/code&gt; lines aren’t being checked against anyone else’s: they might&#xA;&#xA;&#xA;    be different from the &lt;code&gt;go.sum&lt;/code&gt; lines that the &lt;code&gt;go&lt;/code&gt; command just generated for&#xA;&#xA;&#xA;    someone else, perhaps because a proxy intentionally served malicious code&#xA;&#xA;&#xA;    targeted to you.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Go&amp;#39;s solution is a global source of &lt;code&gt;go.sum&lt;/code&gt; lines, called a&#xA;&#xA;&#xA;    &lt;a href=&#34;https://go.googlesource.com/proposal/+/master/design/25530-sumdb.md#checksum-database&#34; target=&#34;_blank&#34;&gt;checksum database&lt;/a&gt;,&#xA;&#xA;&#xA;    which ensures that the &lt;code&gt;go&lt;/code&gt; command always adds the same lines to everyone&amp;#39;s&#xA;&#xA;&#xA;    &lt;code&gt;go.sum&lt;/code&gt; file. Whenever the &lt;code&gt;go&lt;/code&gt; command receives new source code, it can verify the&#xA;&#xA;&#xA;    hash of that code against this global database to make sure the hashes match,&#xA;&#xA;&#xA;    ensuring that everyone is using the same code for a given version.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The checksum database is served by &lt;a href=&#34;https://sum.golang.org&#34; target=&#34;_blank&#34;&gt;sum.golang.org&lt;/a&gt;, and&#xA;&#xA;&#xA;    is built on a &lt;a href=&#34;https://research.swtch.com/tlog&#34; target=&#34;_blank&#34;&gt;Transparent Log&lt;/a&gt; (or “Merkle&#xA;&#xA;&#xA;    tree”) of hashes backed by &lt;a href=&#34;https://github.com/google/trillian&#34; target=&#34;_blank&#34;&gt;Trillian&lt;/a&gt;. The&#xA;&#xA;&#xA;    main advantage of a Merkle tree is that it is tamper proof and has properties&#xA;&#xA;&#xA;    that don’t allow for misbehavior to go undetected, which makes it more&#xA;&#xA;&#xA;    trustworthy than a simple database. The &lt;code&gt;go&lt;/code&gt; command uses this tree to check&#xA;&#xA;&#xA;    “inclusion” proofs (that a specific record exists in the log) and “consistency”&#xA;&#xA;&#xA;    proofs (that the tree hasn’t been tampered with) before adding new &lt;code&gt;go.sum&lt;/code&gt; lines&#xA;&#xA;&#xA;    to your module’s &lt;code&gt;go.sum&lt;/code&gt; file. Below is an example of such a tree.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;module-mirror-launch/tree.png&#34; width=&#34;800&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The checksum database supports&#xA;&#xA;&#xA;    &lt;a href=&#34;https://go.googlesource.com/proposal/+/master/design/25530-sumdb.md#checksum-database&#34; target=&#34;_blank&#34;&gt;a set of endpoints&lt;/a&gt;&#xA;&#xA;&#xA;    used by the &lt;code&gt;go&lt;/code&gt; command to request and verify &lt;code&gt;go.sum&lt;/code&gt; lines. The &lt;code&gt;/lookup&lt;/code&gt;&#xA;&#xA;&#xA;    endpoint provides a “signed tree head” (STH) and the requested &lt;code&gt;go.sum&lt;/code&gt; lines. The&#xA;&#xA;&#xA;    &lt;code&gt;/tile&lt;/code&gt; endpoint provides chunks of the tree called &lt;i&gt;tiles&lt;/i&gt; which the &lt;code&gt;go&lt;/code&gt; command&#xA;&#xA;&#xA;    can use for proofs. Below is an example of how the &lt;code&gt;go&lt;/code&gt; command may&#xA;&#xA;&#xA;    interact with the checksum database by doing a &lt;code&gt;/lookup&lt;/code&gt; of a module version, then&#xA;&#xA;&#xA;    requesting the tiles required for the proofs.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;module-mirror-launch/sumdb-protocol.png&#34; width=&#34;800&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    This checksum database allows the &lt;code&gt;go&lt;/code&gt; command to safely use an otherwise&#xA;&#xA;&#xA;    untrusted proxy. Because there is an auditable security layer sitting on top of&#xA;&#xA;&#xA;    it, a proxy or origin server can’t intentionally, arbitrarily, or accidentally&#xA;&#xA;&#xA;    start giving you the wrong code without getting caught. Even the author of a&#xA;&#xA;&#xA;    module can’t move their tags around or otherwise change the bits associated with&#xA;&#xA;&#xA;    a specific version from one day to the next without the change being detected.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If you are using Go 1.12 or earlier, you can manually check a &lt;code&gt;go.sum&lt;/code&gt; file&#xA;&#xA;&#xA;    against the checksum database with&#xA;&#xA;&#xA;    &lt;a href=&#34;https://godoc.org/golang.org/x/mod/gosumcheck&#34; target=&#34;_blank&#34;&gt;gosumcheck&lt;/a&gt;:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go get golang.org/x/mod/gosumcheck&#xA;$ gosumcheck /path/to/go.sum&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    In addition to verification done by the &lt;code&gt;go&lt;/code&gt; command, third-party&#xA;&#xA;&#xA;    auditors can hold the checksum database accountable by iterating over the log&#xA;&#xA;&#xA;    looking for bad entries. They can work together and gossip about the state of&#xA;&#xA;&#xA;    the tree as it grows to ensure that it remains uncompromised, and we hope that&#xA;&#xA;&#xA;    the Go community will run them.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;      &#xA;        &#xA;  &lt;h4 id=&#34;TOC_1.3.&#34;&gt;Module Index&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    The module index is served by &lt;a href=&#34;https://index.golang.org&#34; target=&#34;_blank&#34;&gt;index.golang.org&lt;/a&gt;, and&#xA;&#xA;&#xA;    is a public feed of new module versions that become available through&#xA;&#xA;&#xA;    &lt;a href=&#34;https://proxy.golang.org&#34; target=&#34;_blank&#34;&gt;proxy.golang.org&lt;/a&gt;. This is particularly useful for&#xA;&#xA;&#xA;    tool developers that want to keep their own cache of what’s available in&#xA;&#xA;&#xA;    &lt;a href=&#34;https://proxy.golang.org&#34; target=&#34;_blank&#34;&gt;proxy.golang.org&lt;/a&gt;, or keep up-to-date on some of the&#xA;&#xA;&#xA;    newest modules that people are using.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;      &#xA;        &#xA;  &lt;h4 id=&#34;TOC_1.4.&#34;&gt;Feedback or bugs&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    We hope these services improve your experience with modules, and encourage you&#xA;&#xA;&#xA;    to &lt;a href=&#34;https://github.com/golang/go/issues/new?title=proxy.golang.org&#34; target=&#34;_blank&#34;&gt;file issues&lt;/a&gt; if you run into&#xA;&#xA;&#xA;    problems or have feedback!&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;      &#xA;    &#xA;  &#xA;</content></entry><entry><title>Migrating to Go Modules</title><id>tag:blog.golang.org,2013:blog.golang.org/migrating-to-go-modules</id><link rel="alternate" href="https://blog.golang.org/migrating-to-go-modules"></link><published>2019-08-21T11:00:00+00:00</published><updated>2019-08-21T11:00:00+00:00</updated><author><name>Jean de Klerk</name></author><summary type="html">This post is part 2 in a series.&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_1.&#34;&gt;Introduction&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    This post is part 2 in a series.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;Part 1 — &lt;a href=&#34;/using-go-modules&#34; target=&#34;_self&#34;&gt;Using Go Modules&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;&lt;b&gt;Part 2 — Migrating To Go Modules&lt;/b&gt; (this post)&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Part 3 — &lt;a href=&#34;/publishing-go-modules&#34; target=&#34;_self&#34;&gt;Publishing Go Modules&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Part 4 — &lt;a href=&#34;/v2-go-modules&#34; target=&#34;_self&#34;&gt;Go Modules: v2 and Beyond&lt;/a&gt;&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Go projects use a wide variety of dependency management strategies. &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Vendor_Directories&#34; target=&#34;_blank&#34;&gt;Vendoring&lt;/a&gt; tools such as &lt;a href=&#34;https://github.com/golang/dep&#34; target=&#34;_blank&#34;&gt;dep&lt;/a&gt; and &lt;a href=&#34;https://github.com/Masterminds/glide&#34; target=&#34;_blank&#34;&gt;glide&lt;/a&gt; are popular, but they have wide differences in behavior and don&amp;#39;t always work well together. Some projects store their entire GOPATH directory in a single Git repository. Others simply rely on &lt;code&gt;go get&lt;/code&gt; and expect fairly recent versions of dependencies to be installed in GOPATH.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Go&amp;#39;s module system, introduced in Go 1.11, provides an official dependency management solution built into the &lt;code&gt;go&lt;/code&gt; command. This article describes tools and techniques for converting a project to modules.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Please note: if your project is already tagged at v2.0.0 or higher, you will need to update your module path when you add a &lt;code&gt;go.mod&lt;/code&gt; file. We&amp;#39;ll explain how to do that without breaking your users in a future article focused on v2 and beyond.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_2.&#34;&gt;Migrating to Go modules in your project&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    A project might be in one of three states when beginning the transition to Go modules:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;A brand new Go project.&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;An established Go project with a non-modules dependency manager.&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;An established Go project without any dependency manager.&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The first case is covered in &lt;a href=&#34;https://blog.golang.org/using-go-modules&#34; target=&#34;_blank&#34;&gt;Using Go Modules&lt;/a&gt;; we&amp;#39;ll address the latter two in this post.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_3.&#34;&gt;With a dependency manager&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    To convert a project that already uses a dependency management tool, run the following commands:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ git clone https://github.com/my/project&#xA;[...]&#xA;$ cd project&#xA;$ cat Godeps/Godeps.json&#xA;{&#xA;    &amp;#34;ImportPath&amp;#34;: &amp;#34;github.com/my/project&amp;#34;,&#xA;    &amp;#34;GoVersion&amp;#34;: &amp;#34;go1.12&amp;#34;,&#xA;    &amp;#34;GodepVersion&amp;#34;: &amp;#34;v80&amp;#34;,&#xA;    &amp;#34;Deps&amp;#34;: [&#xA;        {&#xA;            &amp;#34;ImportPath&amp;#34;: &amp;#34;rsc.io/binaryregexp&amp;#34;,&#xA;            &amp;#34;Comment&amp;#34;: &amp;#34;v0.2.0-1-g545cabd&amp;#34;,&#xA;            &amp;#34;Rev&amp;#34;: &amp;#34;545cabda89ca36b48b8e681a30d9d769a30b3074&amp;#34;&#xA;        },&#xA;        {&#xA;            &amp;#34;ImportPath&amp;#34;: &amp;#34;rsc.io/binaryregexp/syntax&amp;#34;,&#xA;            &amp;#34;Comment&amp;#34;: &amp;#34;v0.2.0-1-g545cabd&amp;#34;,&#xA;            &amp;#34;Rev&amp;#34;: &amp;#34;545cabda89ca36b48b8e681a30d9d769a30b3074&amp;#34;&#xA;        }&#xA;    ]&#xA;}&#xA;$ go mod init github.com/my/project&#xA;go: creating new go.mod: module github.com/my/project&#xA;go: copying requirements from Godeps/Godeps.json&#xA;$ cat go.mod&#xA;module github.com/my/project&#xA;&#xA;go 1.12&#xA;&#xA;require rsc.io/binaryregexp v0.2.1-0.20190524193500-545cabda89ca&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;code&gt;go mod init&lt;/code&gt; creates a new go.mod file and automatically imports dependencies from &lt;code&gt;Godeps.json&lt;/code&gt;, &lt;code&gt;Gopkg.lock&lt;/code&gt;, or a number of &lt;a href=&#34;https://go.googlesource.com/go/+/362625209b6cd2bc059b6b0a67712ddebab312d9/src/cmd/go/internal/modconv/modconv.go#9&#34; target=&#34;_blank&#34;&gt;other supported formats&lt;/a&gt;. The argument to &lt;code&gt;go mod init&lt;/code&gt; is the module path, the location where the module may be found.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    This is a good time to pause and run &lt;code&gt;go build ./...&lt;/code&gt; and &lt;code&gt;go test ./...&lt;/code&gt; before continuing. Later steps may modify your &lt;code&gt;go.mod&lt;/code&gt; file, so if you prefer to take an iterative approach, this is the closest your &lt;code&gt;go.mod&lt;/code&gt; file will be to your pre-modules dependency specification.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go mod tidy&#xA;go: downloading rsc.io/binaryregexp v0.2.1-0.20190524193500-545cabda89ca&#xA;go: extracting rsc.io/binaryregexp v0.2.1-0.20190524193500-545cabda89ca&#xA;$ cat go.sum&#xA;rsc.io/binaryregexp v0.2.1-0.20190524193500-545cabda89ca h1:FKXXXJ6G2bFoVe7hX3kEX6Izxw5ZKRH57DFBJmHCbkU=&#xA;rsc.io/binaryregexp v0.2.1-0.20190524193500-545cabda89ca/go.mod h1:qTv7/COck&amp;#43;e2FymRvadv62gMdZztPaShugOCi3I&amp;#43;8D8=&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;code&gt;go mod tidy&lt;/code&gt; finds all the packages transitively imported by packages in your module. It adds new module requirements for packages not provided by any known module, and it removes requirements on modules that don&amp;#39;t provide any imported packages. If a module provides packages that are only imported by projects that haven&amp;#39;t migrated to modules yet, the module requirement will be marked with an &lt;code&gt;// indirect&lt;/code&gt; comment. It is always good practice to run &lt;code&gt;go mod tidy&lt;/code&gt; before committing a &lt;code&gt;go.mod&lt;/code&gt; file to version control.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Let&amp;#39;s finish by making sure the code builds and tests pass:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go build ./...&#xA;$ go test ./...&#xA;[...]&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Note that other dependency managers may specify dependencies at the level of individual packages or entire repositories (not modules), and generally do not recognize the requirements specified in the &lt;code&gt;go.mod&lt;/code&gt; files of dependencies. Consequently, you may not get exactly the same version of every package as before, and there&amp;#39;s some risk of upgrading past breaking changes. Therefore, it&amp;#39;s important to follow the above commands with an audit of the resulting dependencies. To do so, run&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go list -m all&#xA;go: finding rsc.io/binaryregexp v0.2.1-0.20190524193500-545cabda89ca&#xA;github.com/my/project&#xA;rsc.io/binaryregexp v0.2.1-0.20190524193500-545cabda89ca&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    and compare the resulting versions with your old dependency management file to ensure that the selected versions are appropriate. If you find a version that wasn&amp;#39;t what you wanted, you can find out why using &lt;code&gt;go mod why -m&lt;/code&gt; and/or &lt;code&gt;go mod graph&lt;/code&gt;, and upgrade or downgrade to the correct version using &lt;code&gt;go get&lt;/code&gt;. (If the version you request is older than the version that was previously selected, &lt;code&gt;go get&lt;/code&gt; will downgrade other dependencies as needed to maintain compatibility.) For example,&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go mod why -m rsc.io/binaryregexp&#xA;[...]&#xA;$ go mod graph | grep rsc.io/binaryregexp&#xA;[...]&#xA;$ go get rsc.io/binaryregexp@v0.2.0&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_4.&#34;&gt;Without a dependency manager&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    For a Go project without a dependency management system, start by creating a &lt;code&gt;go.mod&lt;/code&gt; file:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ git clone https://go.googlesource.com/blog&#xA;[...]&#xA;$ cd blog&#xA;$ go mod init golang.org/x/blog&#xA;go: creating new go.mod: module golang.org/x/blog&#xA;$ cat go.mod&#xA;module golang.org/x/blog&#xA;&#xA;go 1.12&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Without a configuration file from a previous dependency manager, &lt;code&gt;go mod init&lt;/code&gt; will create a &lt;code&gt;go.mod&lt;/code&gt; file with only the &lt;code&gt;module&lt;/code&gt; and &lt;code&gt;go&lt;/code&gt; directives. In this example, we set the module path to &lt;code&gt;golang.org/x/blog&lt;/code&gt; because that is its &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Remote_import_paths&#34; target=&#34;_blank&#34;&gt;custom import path&lt;/a&gt;. Users may import packages with this path, and we must be careful not to change it.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The &lt;code&gt;module&lt;/code&gt; directive declares the module path, and the &lt;code&gt;go&lt;/code&gt; directive declares the expected version of the Go language used to compile the code within the module.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Next, run &lt;code&gt;go mod tidy&lt;/code&gt; to add the module&amp;#39;s dependencies:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go mod tidy&#xA;go: finding golang.org/x/website latest&#xA;go: finding gopkg.in/tomb.v2 latest&#xA;go: finding golang.org/x/net latest&#xA;go: finding golang.org/x/tools latest&#xA;go: downloading github.com/gorilla/context v1.1.1&#xA;go: downloading golang.org/x/tools v0.0.0-20190813214729-9dba7caff850&#xA;go: downloading golang.org/x/net v0.0.0-20190813141303-74dc4d7220e7&#xA;go: extracting github.com/gorilla/context v1.1.1&#xA;go: extracting golang.org/x/net v0.0.0-20190813141303-74dc4d7220e7&#xA;go: downloading gopkg.in/tomb.v2 v2.0.0-20161208151619-d5d1b5820637&#xA;go: extracting gopkg.in/tomb.v2 v2.0.0-20161208151619-d5d1b5820637&#xA;go: extracting golang.org/x/tools v0.0.0-20190813214729-9dba7caff850&#xA;go: downloading golang.org/x/website v0.0.0-20190809153340-86a7442ada7c&#xA;go: extracting golang.org/x/website v0.0.0-20190809153340-86a7442ada7c&#xA;$ cat go.mod&#xA;module golang.org/x/blog&#xA;&#xA;go 1.12&#xA;&#xA;require (&#xA;    github.com/gorilla/context v1.1.1&#xA;    golang.org/x/net v0.0.0-20190813141303-74dc4d7220e7&#xA;    golang.org/x/text v0.3.2&#xA;    golang.org/x/tools v0.0.0-20190813214729-9dba7caff850&#xA;    golang.org/x/website v0.0.0-20190809153340-86a7442ada7c&#xA;    gopkg.in/tomb.v2 v2.0.0-20161208151619-d5d1b5820637&#xA;)&#xA;$ cat go.sum&#xA;cloud.google.com/go v0.26.0/go.mod h1:aQUYkXzVsufM&amp;#43;DwF1aE&amp;#43;0xfcU&amp;#43;56JwCaLick0ClmMTw=&#xA;cloud.google.com/go v0.34.0/go.mod h1:aQUYkXzVsufM&amp;#43;DwF1aE&amp;#43;0xfcU&amp;#43;56JwCaLick0ClmMTw=&#xA;git.apache.org/thrift.git v0.0.0-20180902110319-2566ecd5d999/go.mod h1:fPE2ZNJGynbRyZ4dJvy6G277gSllfV2HJqblrnkyeyg=&#xA;git.apache.org/thrift.git v0.0.0-20181218151757-9b75e4fe745a/go.mod h1:fPE2ZNJGynbRyZ4dJvy6G277gSllfV2HJqblrnkyeyg=&#xA;github.com/beorn7/perks v0.0.0-20180321164747-3a771d992973/go.mod h1:Dwedo/Wpr24TaqPxmxbtue&amp;#43;5NUziq4I4S80YR8gNf3Q=&#xA;[...]&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;code&gt;go mod tidy&lt;/code&gt; added module requirements for all the packages transitively imported by packages in your module and built a &lt;code&gt;go.sum&lt;/code&gt; with checksums for each library at a specific version. Let&amp;#39;s finish by making sure the code still builds and tests still pass:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ go build ./...&#xA;$ go test ./...&#xA;ok      golang.org/x/blog    0.335s&#xA;?       golang.org/x/blog/content/appengine    [no test files]&#xA;ok      golang.org/x/blog/content/cover    0.040s&#xA;?       golang.org/x/blog/content/h2push/server    [no test files]&#xA;?       golang.org/x/blog/content/survey2016    [no test files]&#xA;?       golang.org/x/blog/content/survey2017    [no test files]&#xA;?       golang.org/x/blog/support/racy    [no test files]&#xA;$&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Note that when &lt;code&gt;go mod tidy&lt;/code&gt; adds a requirement, it adds the latest version of the module. If your &lt;code&gt;GOPATH&lt;/code&gt; included an older version of a dependency that subsequently published a breaking change, you may see errors in &lt;code&gt;go mod tidy&lt;/code&gt;, &lt;code&gt;go build&lt;/code&gt;, or &lt;code&gt;go test&lt;/code&gt;. If this happens, try downgrading to an older version with &lt;code&gt;go get&lt;/code&gt; (for example, &lt;code&gt;go get github.com/broken/module@v1.1.0&lt;/code&gt;), or take the time to make your module compatible with the latest version of each dependency.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;h4 id=&#34;TOC_4.1.&#34;&gt;Tests in module mode&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Some tests may need tweaks after migrating to Go modules.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If a test needs to write files in the package directory, it may fail when the package directory is in the module cache, which is read-only. In particular, this may cause &lt;code&gt;go test all&lt;/code&gt; to fail. The test should copy files it needs to write to a temporary directory instead.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If a test relies on relative paths (&lt;code&gt;../package-in-another-module&lt;/code&gt;) to locate and read files in another package, it will fail if the package is in another module, which will be located in a versioned subdirectory of the module cache or a path specified in a &lt;code&gt;replace&lt;/code&gt; directive. If this is the case, you may need to copy the test inputs into your module, or convert the test inputs from raw files to data embedded in &lt;code&gt;.go&lt;/code&gt; source files.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    If a test expects &lt;code&gt;go&lt;/code&gt; commands within the test to run in GOPATH mode, it may fail. If this is the case, you may need to add a &lt;code&gt;go.mod&lt;/code&gt; file to the source tree to be tested, or set &lt;code&gt;GO111MODULE=off&lt;/code&gt; explicitly.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_5.&#34;&gt;Publishing a release&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Finally, you should tag and publish a release version for your new module. This is optional if you haven&amp;#39;t released any versions yet, but without an official release, downstream users will depend on specific commits using &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Pseudo_versions&#34; target=&#34;_blank&#34;&gt;pseudo-versions&lt;/a&gt;, which may be more difficult to support.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;div class=&#34;code&#34;&gt;&lt;pre&gt;$ git tag v1.2.0&#xA;$ git push origin v1.2.0&lt;/pre&gt;&lt;/div&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Your new &lt;code&gt;go.mod&lt;/code&gt; file defines a canonical import path for your module and adds&#xA;&#xA;&#xA;    new minimum version requirements. If your users are already using the correct&#xA;&#xA;&#xA;    import path, and your dependencies haven&amp;#39;t made breaking changes, then adding&#xA;&#xA;&#xA;    the &lt;code&gt;go.mod&lt;/code&gt; file is backwards-compatible — but it&amp;#39;s a significant change, and&#xA;&#xA;&#xA;    may expose existing problems. If you have existing version tags, you should&#xA;&#xA;&#xA;    increment the &lt;a href=&#34;https://semver.org/#spec-item-7&#34; target=&#34;_blank&#34;&gt;minor version&lt;/a&gt;. See&#xA;&#xA;&#xA;    &lt;a href=&#34;/publishing-go-modules&#34; target=&#34;_self&#34;&gt;Publishing Go Modules&lt;/a&gt; to learn how to increment and&#xA;&#xA;&#xA;    publish versions.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_6.&#34;&gt;Imports and canonical module paths&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Each module declares its module path in its &lt;code&gt;go.mod&lt;/code&gt; file. Each &lt;code&gt;import&lt;/code&gt; statement that refers to a package within the module must have the module path as a prefix of the package path. However, the &lt;code&gt;go&lt;/code&gt; command may encounter a repository containing the module through many different &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Remote_import_paths&#34; target=&#34;_blank&#34;&gt;remote import paths&lt;/a&gt;. For example, both &lt;code&gt;golang.org/x/lint&lt;/code&gt; and &lt;code&gt;github.com/golang/lint&lt;/code&gt; resolve to repositories containing the code hosted at &lt;a href=&#34;https://go.googlesource.com/lint&#34; target=&#34;_blank&#34;&gt;go.googlesource.com/lint&lt;/a&gt;. The &lt;a href=&#34;https://go.googlesource.com/lint/+/refs/heads/master/go.mod&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;go.mod&lt;/code&gt; file&lt;/a&gt; contained in that repository declares its path to be &lt;code&gt;golang.org/x/lint&lt;/code&gt;, so only that path corresponds to a valid module.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Go 1.4 provided a mechanism for declaring canonical import paths using &lt;a href=&#34;https://golang.org/cmd/go/#hdr-Import_path_checking&#34; target=&#34;_blank&#34;&gt;&lt;code&gt;// import&lt;/code&gt; comments&lt;/a&gt;, but package authors did not always provide them. As a result, code written prior to modules may have used a non-canonical import path for a module without surfacing an error for the mismatch. When using modules, the import path must match the canonical module path, so you may need to update &lt;code&gt;import&lt;/code&gt; statements: for example, you may need to change &lt;code&gt;import &amp;#34;github.com/golang/lint&amp;#34;&lt;/code&gt; to &lt;code&gt;import &amp;#34;golang.org/x/lint&amp;#34;&lt;/code&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Another scenario in which a module&amp;#39;s canonical path may differ from its repository path occurs for Go modules at major version 2 or higher. A Go module with a major version above 1 must include a major-version suffix in its module path: for example, version &lt;code&gt;v2.0.0&lt;/code&gt; must have the suffix &lt;code&gt;/v2&lt;/code&gt;. However, &lt;code&gt;import&lt;/code&gt; statements may have referred to the packages within the module &lt;i&gt;without&lt;/i&gt; that suffix. For example, non-module users of &lt;code&gt;github.com/russross/blackfriday/v2&lt;/code&gt; at &lt;code&gt;v2.0.1&lt;/code&gt; may have imported it as &lt;code&gt;github.com/russross/blackfriday&lt;/code&gt; instead, and will need to update the import path to include the &lt;code&gt;/v2&lt;/code&gt; suffix.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_7.&#34;&gt;Conclusion&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Converting to Go modules should be a straightforward process for most users. Occasional issues may arise due to non-canonical import paths or breaking changes within a dependency. Future posts will explore &lt;a href=&#34;/publishing-go-modules&#34; target=&#34;_self&#34;&gt;publishing new versions&lt;/a&gt;, v2 and beyond, and ways to debug strange situations.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    To provide feedback and help shape the future of dependency management in Go, please send us &lt;a href=&#34;https://golang.org/issue/new&#34; target=&#34;_blank&#34;&gt;bug reports&lt;/a&gt; or &lt;a href=&#34;https://golang.org/wiki/ExperienceReports&#34; target=&#34;_blank&#34;&gt;experience reports&lt;/a&gt;.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Thanks for all your feedback and help improving modules.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;  &#xA;</content></entry><entry><title>Contributors Summit 2019</title><id>tag:blog.golang.org,2013:blog.golang.org/contributors-summit-2019</id><link rel="alternate" href="https://blog.golang.org/contributors-summit-2019"></link><published>2019-08-15T11:00:00+00:00</published><updated>2019-08-15T11:00:00+00:00</updated><author><name>Carmen Andoh and contributors</name></author><summary type="html">For the third year in a row, the Go team and contributors convened&#xA;the day before GopherCon to discuss and plan for the future of the Go project.&#xA;The event included self-organizing into breakout groups,&#xA;a town-hall style discussion about the proposal process in the morning,&#xA;and afternoon break-out roundtable discussions&#xA;based on topics our contributors chose.&#xA;We asked five contributors to write about their experience&#xA;in various discussions at this year’s summit.&#xA;</summary><content type="html">&#xA;  &#xA;  &#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_1.&#34;&gt;Introduction&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    For the third year in a row, the Go team and contributors convened&#xA;&#xA;&#xA;    the day before GopherCon to discuss and plan for the future of the Go project.&#xA;&#xA;&#xA;    The event included self-organizing into breakout groups,&#xA;&#xA;&#xA;    a town-hall style discussion about the proposal process in the morning,&#xA;&#xA;&#xA;    and afternoon break-out roundtable discussions&#xA;&#xA;&#xA;    based on topics our contributors chose.&#xA;&#xA;&#xA;    We asked five contributors to write about their experience&#xA;&#xA;&#xA;    in various discussions at this year’s summit.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&lt;div class=&#34;image&#34;&gt;&#xA;  &lt;img src=&#34;contributors-summit-2019/group.jpg&#34; width=&#34;800&#34; alt=&#34;&#34;&gt;&#xA;&lt;/div&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;i&gt;(Photo by Steve Francia.)&lt;/i&gt;&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_2.&#34;&gt;Compiler and Runtime (report by Lynn Boger)&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    The Go contributors summit was a great opportunity&#xA;&#xA;&#xA;    to meet and discuss topics and ideas with others who also contribute to Go.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The day started out with a time to meet everyone in the room.&#xA;&#xA;&#xA;    There was a good mix of the core Go team&#xA;&#xA;&#xA;    and others who actively contribute to Go.&#xA;&#xA;&#xA;    From there we decided what topics were of interest&#xA;&#xA;&#xA;    and how to split the big group into smaller groups.&#xA;&#xA;&#xA;    My area of interest is the compiler, so I joined that group&#xA;&#xA;&#xA;    and stayed with them for most of the time.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    At our first meeting, a long list of topics were brought up&#xA;&#xA;&#xA;    and as a result the compiler group decided to keep meeting throughout the day.&#xA;&#xA;&#xA;    I had a few topics of interest that I shared and many that others suggested&#xA;&#xA;&#xA;    were also of interest to me.&#xA;&#xA;&#xA;    Not all items on the list were discussed in detail;&#xA;&#xA;&#xA;    here is my list of those topics which had the most interest and discussion,&#xA;&#xA;&#xA;    followed by some brief comments that were made on other topics.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Binary size&lt;/b&gt;.&#xA;&#xA;&#xA;    There was a concern expressed about binary size,&#xA;&#xA;&#xA;    especially that it continues to grow with each release.&#xA;&#xA;&#xA;    Some possible reasons were identified such as increased inlining and other optimizations.&#xA;&#xA;&#xA;    Most likely there is a set of users who want small binaries,&#xA;&#xA;&#xA;    and another group who wants the best performance possible and maybe some don’t care.&#xA;&#xA;&#xA;    This led to the topic of TinyGo, and it was noted that TinyGo was not a full implementation of Go&#xA;&#xA;&#xA;    and that it is important to keep TinyGo from diverging from Go and splitting the user base.&#xA;&#xA;&#xA;    More investigation is required to understand the need among users and the exact reasons&#xA;&#xA;&#xA;    contributing to the current size.&#xA;&#xA;&#xA;    If there are opportunities to reduce the size without affecting performance,&#xA;&#xA;&#xA;    those changes could be made, but if performance were affected&#xA;&#xA;&#xA;    some users would prefer better performance.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Vector assembly&lt;/b&gt;.&#xA;&#xA;&#xA;    How to leverage vector assembly in Go was discussed for a while&#xA;&#xA;&#xA;    and has been a topic of interest in the past.&#xA;&#xA;&#xA;    I have split this into three separate possibilities, since they all relate to the use of vector instructions,&#xA;&#xA;&#xA;    but the way they are used are different, starting with the topic of vector assembly.&#xA;&#xA;&#xA;    This is another case of a compiler trade off.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    For most targets, there are critical functions in standard packages&#xA;&#xA;&#xA;    such as crypto, hash, math and others, where the use of assembly is necessary&#xA;&#xA;&#xA;    to get the best possible performance; however having large functions&#xA;&#xA;&#xA;    written in assembly makes them difficult to support and maintain&#xA;&#xA;&#xA;    and could require different implementations for each target platform.&#xA;&#xA;&#xA;    One solution is to make use of macro assembly or other&#xA;&#xA;&#xA;    high-level generation techniques to make the vector assembly easier to read and understand.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Another side to this question is whether the Go compiler can&#xA;&#xA;&#xA;    directly generate SIMD vector instructions when compiling a Go source file,&#xA;&#xA;&#xA;    by enhancing the Go compiler to transform code sequences to “simdize”&#xA;&#xA;&#xA;    the code to make use of vector instructions.&#xA;&#xA;&#xA;    Implementing SIMD in the Go compiler would add complexity and compile time,&#xA;&#xA;&#xA;    and might not always result in code that performs better.&#xA;&#xA;&#xA;    The way the code is transformed could in some cases depend&#xA;&#xA;&#xA;    on the target platform so that would not be ideal.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Another way to leverage vector instructions in Go is to provide a way&#xA;&#xA;&#xA;    to make it easier to make use of vector instructions from within the Go source code.&#xA;&#xA;&#xA;    Topics discussed were intrinsics, or implementations that exist in other compilers like Rust.&#xA;&#xA;&#xA;    In gcc some platforms provide inline asm, and Go possibly could provide this capability,&#xA;&#xA;&#xA;    but I know from experience that intermixing inline asm with Go code adds complexity&#xA;&#xA;&#xA;    to the compiler in terms of tracking register use and debugging.&#xA;&#xA;&#xA;    It allows the user to do things the compiler might not expect or want,&#xA;&#xA;&#xA;    and it does add an extra level of complexity.&#xA;&#xA;&#xA;    It could be inserted in places that are not ideal.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    In summary, it is important to provide a way to leverage&#xA;&#xA;&#xA;    the available vector instructions, and make it easier and safer to write.&#xA;&#xA;&#xA;    Where possible, functions use as much Go code as possible,&#xA;&#xA;&#xA;    and potentially find a way to use high level assembly.&#xA;&#xA;&#xA;    There was some discussion of designing an experimental vector package&#xA;&#xA;&#xA;    to try and implement some of these ideas.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;New calling convention&lt;/b&gt;.&#xA;&#xA;&#xA;    Several people were interested in the topic of the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/issue/18597&#34; target=&#34;_blank&#34;&gt;ABI changes to provide a register based calling convention&lt;/a&gt;.&#xA;&#xA;&#xA;    The current status was reported with details.&#xA;&#xA;&#xA;    There was discussion on what remained to be done before it could be used.&#xA;&#xA;&#xA;    The ABI specification needs to be written first and it was not clear when that would be done.&#xA;&#xA;&#xA;    I know this will benefit some target platforms more than others&#xA;&#xA;&#xA;    and a register calling convention is used in most compilers for other platforms.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;General optimizations&lt;/b&gt;.&#xA;&#xA;&#xA;    Certain optimizations that are more beneficial for some platforms other than x86 were discussed.&#xA;&#xA;&#xA;    In particular, loop optimizations such as hoisting of invariants and strength reduction could be done&#xA;&#xA;&#xA;    and provide more benefit on some platforms.&#xA;&#xA;&#xA;    Potential solutions were discussed, and implementation would probably be&#xA;&#xA;&#xA;    up to the targets that find those improvements important.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Feedback-directed optimizations&lt;/b&gt;.&#xA;&#xA;&#xA;    This was discussed and debated as a possible future enhancement.&#xA;&#xA;&#xA;    In my experience, it is hard to find meaningful programs to use for&#xA;&#xA;&#xA;    collecting performance data that can later be used to optimize code.&#xA;&#xA;&#xA;    It increases compile time and takes a lot of space to save the data&#xA;&#xA;&#xA;    which might only be meaningful for a small set of programs.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Pending submissions&lt;/b&gt;.&#xA;&#xA;&#xA;    A few members in the group mentioned changes they had been working on&#xA;&#xA;&#xA;    and plan to submit soon, including improvements to makeslice, and a rewrite of rulegen.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Compile time concerns&lt;/b&gt;.&#xA;&#xA;&#xA;    Compile time was discussed briefly. It was noted that phase timing was added to the GOSSAFUNC output.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Compiler contributor communication&lt;/b&gt;.&#xA;&#xA;&#xA;    Someone asked if there was a need for a Go compiler mailing list.&#xA;&#xA;&#xA;    It was suggested that we use golang-dev for that purpose,&#xA;&#xA;&#xA;    adding compiler to the subject line to identify it.&#xA;&#xA;&#xA;    If there is too much traffic on golang-dev, then a compiler-specific mailing list&#xA;&#xA;&#xA;    can be considered at some later point in time.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Community&lt;/b&gt;.&#xA;&#xA;&#xA;    I found the day very beneficial in terms of connecting with people&#xA;&#xA;&#xA;    who have been active in the community and have similar areas of interest.&#xA;&#xA;&#xA;    I was able to meet many people who I’ve only known by the user name&#xA;&#xA;&#xA;    appearing in issues or mailing lists or CLs.&#xA;&#xA;&#xA;    I was able to discuss some topics and existing issues&#xA;&#xA;&#xA;    and get direct interactive feedback instead of waiting for online responses.&#xA;&#xA;&#xA;    I was encouraged to write issues on problems I have seen.&#xA;&#xA;&#xA;    These connections happened not just during this day but while&#xA;&#xA;&#xA;    running into others throughout the conference,&#xA;&#xA;&#xA;    having been introduced on this first day, which led to many interesting discussions.&#xA;&#xA;&#xA;    Hopefully these connections will lead to more effective communication&#xA;&#xA;&#xA;    and improved handling of issues and code changes in the future.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_3.&#34;&gt;Tools (report by Paul Jolly)&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    The tools breakout session during the contributor summit took an extended form,&#xA;&#xA;&#xA;    with two further sessions on the main conference days organized by the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://github.com/golang/go/wiki/golang-tools&#34; target=&#34;_blank&#34;&gt;golang-tools&lt;/a&gt; group.&#xA;&#xA;&#xA;    This summary is broken down into two parts: the tools session at the contributor workshop,&#xA;&#xA;&#xA;    and a combined report from the golang-tools sessions on the main conference days.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Contributor summit&lt;/b&gt;.&#xA;&#xA;&#xA;    The tools session started with introductions from ~25 folks gathered,&#xA;&#xA;&#xA;    followed by a brainstorming of topics, including:&#xA;&#xA;&#xA;    gopls, ARM 32-bit, eval, signal, analysis, go/packages api, refactoring, pprof,&#xA;&#xA;&#xA;    module experience, mono repo analysis, go mobile, dependencies, editor integrations,&#xA;&#xA;&#xA;    compiler opt decisions, debugging, visualization, documentation.&#xA;&#xA;&#xA;    A lot of people with lots of interest in lots of tools!&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The session focused on two areas (all that time allowed): gopls and visualizations.&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/wiki/gopls&#34; target=&#34;_blank&#34;&gt;Gopls&lt;/a&gt; (pronounced: “go please”) is an implementation of the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://langserver.org&#34; target=&#34;_blank&#34;&gt;Language Server Protocol (LSP)&lt;/a&gt; server for Go.&#xA;&#xA;&#xA;    Rebecca Stamber, the gopls lead author, and the rest of the Go tools team were interested&#xA;&#xA;&#xA;    in hearing people’s experiences with gopls: stability, missing features, integrations in editors working, etc?&#xA;&#xA;&#xA;    The general feeling was that gopls was in really good shape and working extremely well for the majority of use cases.&#xA;&#xA;&#xA;    Integration test coverage needs to be improved, but this is a hard problem to get “right” across all editors.&#xA;&#xA;&#xA;    We discussed a better means of users reporting gopls errors they encounter via their editor,&#xA;&#xA;&#xA;    telemetry/diagnostics, gopls performance metrics, all subjects that got more detailed coverage&#xA;&#xA;&#xA;    in golang-tools sessions that followed on the main conference days (see below).&#xA;&#xA;&#xA;    A key area of discussion was how to extend gopls, e.g., in the form of&#xA;&#xA;&#xA;    additional go/analysis vet-like checks, lint checks, refactoring, etc.&#xA;&#xA;&#xA;    Currently there is no good solution, but it’s actively under investigation.&#xA;&#xA;&#xA;    Conversation shifted to the very broad topic of visualizations, with a&#xA;&#xA;&#xA;    demo-based introduction from Anthony Starks (who, incidentally, gave an excellent talk about&#xA;&#xA;&#xA;    &lt;a href=&#34;https://www.youtube.com/watch?v=NyDNJnioWhI&#34; target=&#34;_blank&#34;&gt;Go for information displays&lt;/a&gt; at GopherCon 2018).&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Conference days&lt;/b&gt;.&#xA;&#xA;&#xA;    The golang-tools sessions on the main conference days were a continuation of the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://golang.org/wiki/golang-tools&#34; target=&#34;_blank&#34;&gt;monthly calls&lt;/a&gt; that have been happening since the group’s inception at GopherCon 2018.&#xA;&#xA;&#xA;    Full notes are available for the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://docs.google.com/document/d/1-RVyttQ0ncjCpR_sRwizf-Ubedkr0Emwmk2LhnsUOmE/edit&#34; target=&#34;_blank&#34;&gt;day 1&lt;/a&gt; and&#xA;&#xA;&#xA;    &lt;a href=&#34;https://docs.google.com/document/d/1ZI_WqpLCB8DO6teJ3aBuXTeYD2iZZZlkDptmcY6Ja60/edit#heading=h.x9lkytc2gxmg&#34; target=&#34;_blank&#34;&gt;day 2&lt;/a&gt; sessions.&#xA;&#xA;&#xA;    These sessions were again well attended with 25-30 people at each session.&#xA;&#xA;&#xA;    The Go tools team was there in strength (a good sign of the support being put behind this area), as was the Uber platform team.&#xA;&#xA;&#xA;    In contrast to the contributor summit, the goal from these sessions was to come away with specific action items.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Gopls&lt;/b&gt;.&#xA;&#xA;&#xA;    Gopls “readiness” was a major focus for both sessions.&#xA;&#xA;&#xA;    This answer effectively boiled down to determining when it makes sense to tell&#xA;&#xA;&#xA;    editor integrators “we have a good first cut of gopls” and then compiling a&#xA;&#xA;&#xA;    list of “blessed” editor integrations/plugins known to work with gopls.&#xA;&#xA;&#xA;    Central to this “certification” of editor integrations/plugins is a well-defined process&#xA;&#xA;&#xA;    by which users can report problems they experience with gopls.&#xA;&#xA;&#xA;    Performance and memory are not blockers for this initial “release”.&#xA;&#xA;&#xA;    The conversation about how to extend gopls, started in the&#xA;&#xA;&#xA;    contributor summit the day before, continued in earnest.&#xA;&#xA;&#xA;    Despite the many obvious benefits and attractions to extending gopls&#xA;&#xA;&#xA;    (custom go/analysis checks, linter support, refactoring, code generation…),&#xA;&#xA;&#xA;    there isn’t a clear answer on how to implement this in a scalable way.&#xA;&#xA;&#xA;    Those gathered agreed that this should not be seen as a blocker for the&#xA;&#xA;&#xA;    initial “release”, but should continue to be worked on.&#xA;&#xA;&#xA;    In the spirit of gopls and editor integrations,&#xA;&#xA;&#xA;    Heschi Kreinick from the Go tools team brought up the topic of debugging support.&#xA;&#xA;&#xA;    Delve has become the de facto debugger for Go and is in good shape;&#xA;&#xA;&#xA;    now the state of debugger-editor integration needs to be established,&#xA;&#xA;&#xA;    following a process similar to that of gopls and the “blessed” integrations.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Go Discovery Site&lt;/b&gt;.&#xA;&#xA;&#xA;    The second golang-tools session started with an excellent introduction to&#xA;&#xA;&#xA;    the Go Discovery Site by Julie Qiu from the Go tools team, along with a quick demo.&#xA;&#xA;&#xA;    Julie talked about the plans for the Discovery Site: open sourcing the project,&#xA;&#xA;&#xA;    what signals are used in search ranking, how &lt;a href=&#34;http://godoc.org/&#34; target=&#34;_blank&#34;&gt;godoc.org&lt;/a&gt; will ultimately be replaced,&#xA;&#xA;&#xA;    how submodules should work, how users can discover new major versions.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Build Tags&lt;/b&gt;.&#xA;&#xA;&#xA;    Conversation then moved to build tag support within gopls.&#xA;&#xA;&#xA;    This is an area that clearly needs to be better understood&#xA;&#xA;&#xA;    (use cases are currently being gathered in &lt;a href=&#34;https://golang.org/issue/33389&#34; target=&#34;_blank&#34;&gt;issue 33389&lt;/a&gt;).&#xA;&#xA;&#xA;    In light of this conversation, the session wrapped up with&#xA;&#xA;&#xA;    Alexander Zolotov from the JetBrains GoLand team suggesting that the gopls and&#xA;&#xA;&#xA;    GoLand teams should share experience in this and more areas, given GoLand&#xA;&#xA;&#xA;    has already gained lots of experience.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    &lt;b&gt;Join Us!&lt;/b&gt;&#xA;&#xA;&#xA;    We could easily have talked about tools-related topics for days!&#xA;&#xA;&#xA;    The good news is that the golang-tools calls will continue for the foreseeable future.&#xA;&#xA;&#xA;    Anyone interested in Go tooling is very much encouraged to join: &lt;a href=&#34;https://golang.org/wiki/golang-tools&#34; target=&#34;_blank&#34;&gt;the wiki&lt;/a&gt; has more details.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_4.&#34;&gt;Enterprise Use (report by Daniel Theophanes)&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Actively asking after the needs of less vocal developers will be the largest challenge,&#xA;&#xA;&#xA;    and greatest win, for the Go language. There is a large segment of programmers&#xA;&#xA;&#xA;    who don’t actively participate in the Go community.&#xA;&#xA;&#xA;    Some are business associates, marketers, or quality assurance who also do development.&#xA;&#xA;&#xA;    Some will wear management hats and make hiring or technology decisions.&#xA;&#xA;&#xA;    Others just do their job and return to their families.&#xA;&#xA;&#xA;    And lastly, many times these developers work in businesses with strict IP protection contracts.&#xA;&#xA;&#xA;    Even though most of these developers won’t end up directly participating in open source&#xA;&#xA;&#xA;    or the Go community proposals, their ability to use Go depends on both.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The Go community and Go proposals need to understand the needs of these less vocal developers.&#xA;&#xA;&#xA;    Go proposals can have a large impact on what is adopted and used.&#xA;&#xA;&#xA;    For instance, the vendor folder and later the Go modules proxy are incredibly important&#xA;&#xA;&#xA;    for businesses that strictly control source code and&#xA;&#xA;&#xA;    typically have fewer direct conversations with the Go community.&#xA;&#xA;&#xA;    Having these mechanisms allow these organizations to use Go at all.&#xA;&#xA;&#xA;    It follows that we must not only pay attention to current Go users,&#xA;&#xA;&#xA;    but also to developers and organizations who have considered Go,&#xA;&#xA;&#xA;    but have chosen against it.&#xA;&#xA;&#xA;    We need to understand these reasons.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Similarly, should the Go community pay attention to “enterprise”&#xA;&#xA;&#xA;    environments it would unlock many additional organizations who can utilize Go.&#xA;&#xA;&#xA;    By ensuring active directory authentication works, users who would&#xA;&#xA;&#xA;    be forced to use a different ecosystem can keep Go on the table.&#xA;&#xA;&#xA;    By ensuring WSDL just works, a section of users can pick Go up as a tool.&#xA;&#xA;&#xA;    No one suggested blindly making changes to appease non-Go users.&#xA;&#xA;&#xA;    But rather we should be aware of untapped potential and unrecognized&#xA;&#xA;&#xA;    hindrances in the Go language and ecosystem.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    While several different possibilities to actively solicit this information&#xA;&#xA;&#xA;    from the outside was discussed, this is a problem we fundamentally need your help.&#xA;&#xA;&#xA;    If you are in an organization that doesn’t use Go even though it was considered,&#xA;&#xA;&#xA;    let us know why Go wasn’t chosen.&#xA;&#xA;&#xA;    If you are in an organization where Go is only used for a subsection of programming tasks,&#xA;&#xA;&#xA;    but not others, why isn’t it used for more? Are there specific blockers to adoption?&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_5.&#34;&gt;Education (report by Andy Walker)&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    One of the roundtables I was involved in at the Contributors Summit&#xA;&#xA;&#xA;    this year was on the topic of Go education,&#xA;&#xA;&#xA;    specifically what kind of resources we make available&#xA;&#xA;&#xA;    to the new Go programmer, and how we can improve them.&#xA;&#xA;&#xA;    Present were a number of very passionate organizers, engineers and educators,&#xA;&#xA;&#xA;    each of whom had a unique perspective on the subject,&#xA;&#xA;&#xA;    either through tools they’d designed,&#xA;&#xA;&#xA;    documents they’d written or workshops they’d given to developers of all stripes.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Early on, talk turned to whether or not Go makes a good first programming language.&#xA;&#xA;&#xA;    I wasn’t sure, and advocated against it.&#xA;&#xA;&#xA;    Go isn’t a good first language, I argued, because it isn’t intended to be.&#xA;&#xA;&#xA;    As Rob Pike &lt;a href=&#34;https://talks.golang.org/2012/splash.article&#34; target=&#34;_blank&#34;&gt;wrote back in 2012&lt;/a&gt;,&#xA;&#xA;&#xA;    “the language was designed by and for people who write—and read and debug and maintain—large software systems”.&#xA;&#xA;&#xA;    To me, this guiding ethos is clear: Go is a deliberate response to perceived flaws&#xA;&#xA;&#xA;    in the processes used by experienced engineers, not an attempt to create an ideal&#xA;&#xA;&#xA;    programming language, and as such a certain basic familiarity with programming concepts is assumed.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    This is evident in the official documentation at &lt;a href=&#34;https://golang.org/doc/&#34; target=&#34;_blank&#34;&gt;golang.org/doc&lt;/a&gt;.&#xA;&#xA;&#xA;    It jumps right into how to install the language before passing the user on to the&#xA;&#xA;&#xA;    &lt;a href=&#34;https://tour.golang.org/&#34; target=&#34;_blank&#34;&gt;tour&lt;/a&gt;, which is geared towards programmers&#xA;&#xA;&#xA;    who are already familiar with a C-like language.&#xA;&#xA;&#xA;    From there, they are taken to &lt;a href=&#34;https://golang.org/doc/code.html&#34; target=&#34;_blank&#34;&gt;How to Write Go Code&lt;/a&gt;,&#xA;&#xA;&#xA;    which provides a very basic introduction to the classic non-module Go workspace,&#xA;&#xA;&#xA;    before moving immediately on to writing libraries and testing.&#xA;&#xA;&#xA;    Finally, we have &lt;a href=&#34;https://golang.org/doc/effective_go.html&#34; target=&#34;_blank&#34;&gt;Effective Go&lt;/a&gt;,&#xA;&#xA;&#xA;    and a series of references including the &lt;a href=&#34;https://golang.org/ref/spec&#34; target=&#34;_blank&#34;&gt;spec&lt;/a&gt;,&#xA;&#xA;&#xA;    rounded out by some examples.&#xA;&#xA;&#xA;    These are all decent resources if you’re already familiar with a C-like language,&#xA;&#xA;&#xA;    but they still leave a lot to be desired, and there’s nothing to be found&#xA;&#xA;&#xA;    for the raw beginner or even someone coming directly from a language like Python.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    As an accessible, interactive starting point, the tour is a natural first target&#xA;&#xA;&#xA;    towards making the language more beginner friendly,&#xA;&#xA;&#xA;    and I think a lot of headway can be made targeting that alone.&#xA;&#xA;&#xA;    First, it should be the first link in the documentation,&#xA;&#xA;&#xA;    if not the first link in the bar at the top of golang.org, front and center.&#xA;&#xA;&#xA;    We should encourage the curious user to jump right in and start playing with the language.&#xA;&#xA;&#xA;    We should also consider including optional introductory sections on coming&#xA;&#xA;&#xA;    from other common languages, and the differences they are&#xA;&#xA;&#xA;    likely to encounter in Go, with interactive exercises.&#xA;&#xA;&#xA;    This would go a long way to helping new Go programmers in mapping&#xA;&#xA;&#xA;    the concepts they are already familiar with onto Go.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    For experienced programmers, an optional, deeper treatment should be given&#xA;&#xA;&#xA;    to most sections in the tour, allowing them to drill down into more&#xA;&#xA;&#xA;    detailed documentation or interactive exercises enumerating the&#xA;&#xA;&#xA;    design decisions principles of good architecture in Go.&#xA;&#xA;&#xA;    They should find answers to questions like:&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &lt;ul&gt;&#xA;  &#xA;    &lt;li&gt;Why are there so many integer types when I am encouraged to use &lt;code&gt;int&lt;/code&gt; most of the time?&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Is there ever a good reason to pick a value receiver?&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;Why is there a plain &lt;code&gt;int&lt;/code&gt;, but no plain &lt;code&gt;float&lt;/code&gt;?&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;What are send- and receive-only channels, and when would I use them?&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;How do I effectively compose concurrency primitives, and when would I &lt;i&gt;not&lt;/i&gt; want to use channels?&lt;/li&gt;&#xA;  &#xA;    &lt;li&gt;What is &lt;code&gt;uint&lt;/code&gt; good for? Should I use it to restrict my user to positive values? Why not?&lt;/li&gt;&#xA;  &#xA;  &lt;/ul&gt;&#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    The tour should be someplace they can revisit upon finishing the first run-through&#xA;&#xA;&#xA;    to dive more deeply into some of the more interesting choices in language design.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    But we can do more. Many people seek out programming as a way to design&#xA;&#xA;&#xA;    applications or scratch a particular itch, and they are most likely to want&#xA;&#xA;&#xA;    to target the interface they are most familiar with: the browser.&#xA;&#xA;&#xA;    Go does not have a good front-end story yet.&#xA;&#xA;&#xA;    Javascript is still the only language that really provides&#xA;&#xA;&#xA;    both a frontend and a backend environment,&#xA;&#xA;&#xA;    but WASM is fast becoming a first-order platform,&#xA;&#xA;&#xA;    and there are so many places we could go with that.&#xA;&#xA;&#xA;    We could provide something like &lt;a href=&#34;https://github.com/gopherjs/vecty&#34; target=&#34;_blank&#34;&gt;vecty&lt;/a&gt;&#xA;&#xA;&#xA;    in &lt;a href=&#34;https://goplay.space/&#34; target=&#34;_blank&#34;&gt;The Go Play Space&lt;/a&gt;,&#xA;&#xA;&#xA;    or perhaps &lt;a href=&#34;https://gioui.org/&#34; target=&#34;_blank&#34;&gt;Gio&lt;/a&gt;, targeting WASM, for people to get&#xA;&#xA;&#xA;    started programming in the browser right away, inspiring their imagination,&#xA;&#xA;&#xA;    and provide them a migration path out of our playground into&#xA;&#xA;&#xA;    a terminal and onto GitHub.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    So, is Go a good first language?&#xA;&#xA;&#xA;    I honestly don’t know, but it’s certainly true there are a significant&#xA;&#xA;&#xA;    number of people entering the programming profession&#xA;&#xA;&#xA;    with Go as their starting point, and I am very interested in talking to them,&#xA;&#xA;&#xA;    learning about their journey and their process,&#xA;&#xA;&#xA;    and shaping the future of Go education with their input.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_6.&#34;&gt;Learning Platforms (report by Ronna Steinberg)&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    We discussed what a learning platform for Go should look like&#xA;&#xA;&#xA;    and how we can combine global resources to effectively teach the language.&#xA;&#xA;&#xA;    We generally agreed that teaching and learning is easier with visualization&#xA;&#xA;&#xA;    and that a REPL is very gratifying.&#xA;&#xA;&#xA;    We also overviewed some existing solutions for visualization with Go:&#xA;&#xA;&#xA;    templates, Go WASM, GopherJS as well as SVG and GIFs generation.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    Compiler errors not making sense to the new developer was also brought up&#xA;&#xA;&#xA;    and we considered ideas of how to handle it, perhaps a bank of errors and how they would be useful.&#xA;&#xA;&#xA;    One idea was a wrapper for the compiler that explains your errors to you, with examples and solutions.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    A new group convened for a second round later and we focused more on&#xA;&#xA;&#xA;    what UX should the Go learning platform have,&#xA;&#xA;&#xA;    and if and how we can take existing materials (talks, blog posts, podcasts, etc)&#xA;&#xA;&#xA;    from the community and organize them into a program people can learn from.&#xA;&#xA;&#xA;    Should such a platform link to those external resources?&#xA;&#xA;&#xA;    Embed them?&#xA;&#xA;&#xA;    Cite them?&#xA;&#xA;&#xA;    We agreed that a portal-like-solution (of external links to resources)&#xA;&#xA;&#xA;    makes navigation difficult and takes away from the learning experience,&#xA;&#xA;&#xA;    which led us to the conclusion that such contribution cannot be passive,&#xA;&#xA;&#xA;    and contributors will likely have to opt-in to have their material on the platform.&#xA;&#xA;&#xA;    There was then much excitement around the idea of adding a voting mechanism to the platform,&#xA;&#xA;&#xA;    effectively turning the learners into contributors, too,&#xA;&#xA;&#xA;    and incentivizing the contributors to put their materials on the platform.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;  &#xA;  &lt;p&gt;&#xA;    (If you are interested in helping in educational efforts for Go,&#xA;&#xA;&#xA;    please email Carmen Andoh candoh@google.com.)&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;      &#xA;  &lt;h4 id=&#34;TOC_7.&#34;&gt;Thank You!&lt;/h4&gt;&#xA;  &#xA;  &#xA;  &lt;p&gt;&#xA;    Thanks to all the attendees for the excellent discussions on contributor day,&#xA;&#xA;&#xA;    and thanks especially to Lynn, Paul, Daniel, Andy, and Ronna&#xA;&#xA;&#xA;    for taking the time to write these reports.&#xA;  &lt;/p&gt;&#xA;  &#xA;&#xA;&#xA;    &#xA;  &#xA;</content></entry></feed>